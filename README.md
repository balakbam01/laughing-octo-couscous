# laughing-octo-couscous
test


PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+UG9saWN5IEpTT04gR2VuZXJhdG9yPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICAqIHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIH0KCiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgbWluLWhlaWdodDogMTAwdmg7CiAgICAgICAgfQoKICAgICAgICAuY29udGFpbmVyIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDEwcHggNDBweCByZ2JhKDAsMCwwLDAuMSk7CiAgICAgICAgfQoKICAgICAgICBoMSB7CiAgICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICB9CgogICAgICAgIC5jaGFubmVsLXNlY3Rpb24gewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgfQoKICAgICAgICAuZm9ybS1ncm91cCB7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsKICAgICAgICB9CgogICAgICAgIGxhYmVsIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDNweDsKICAgICAgICAgICAgY29sb3I6ICM1NTU7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICB9CgogICAgICAgIGlucHV0W3R5cGU9InRleHQiXSwKICAgICAgICBpbnB1dFt0eXBlPSJudW1iZXIiXSwKICAgICAgICBzZWxlY3QgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgcGFkZGluZzogNnB4IDhweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIGhlaWdodDogMzJweDsKICAgICAgICB9CgogICAgICAgIGlucHV0W3R5cGU9ImNoZWNrYm94Il0gewogICAgICAgICAgICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICAgICAgICAgIGhlaWdodDogMTZweDsKICAgICAgICB9CgogICAgICAgIC5wb2xpY3ktaXRlbSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICB9CgogICAgICAgIC5wb2xpY3ktaGVhZGVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogOHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzY2N2VlYTsKICAgICAgICB9CgogICAgICAgIC5wb2xpY3ktaGVhZGVyIGgzIHsKICAgICAgICAgICAgY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgIH0KCiAgICAgICAgLnBvbGljeS1ncmlkIHsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTsKICAgICAgICAgICAgZ2FwOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmJ0biB7CiAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxNnB4OwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICAgICAgICBoZWlnaHQ6IDMycHg7CiAgICAgICAgfQoKICAgICAgICAuYnRuLXByaW1hcnkgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjY3ZWVhOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYnRuLXByaW1hcnk6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNTU2OGQzOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1zdWNjZXNzIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzI4YTc0NTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1zdWNjZXNzOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzIxODgzODsKICAgICAgICB9CgogICAgICAgIC5idG4tZGFuZ2VyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2RjMzU0NTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1kYW5nZXI6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjYzgyMzMzOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1zZWNvbmRhcnkgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNmM3NTdkOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYnRuLXNlY29uZGFyeTpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICM1YTYyNjg7CiAgICAgICAgfQoKICAgICAgICAuYWN0aW9ucyB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICB9CgogICAgICAgIC5vdXRwdXQtc2VjdGlvbiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgfQoKICAgICAgICAub3V0cHV0LXNlY3Rpb24gaDIgewogICAgICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAuanNvbi1vdXRwdXQgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMmQyZDJkOwogICAgICAgICAgICBjb2xvcjogI2Y4ZjhmMjsKICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDQwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgb3ZlcmZsb3cteDogYXV0bzsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBtYXgtaGVpZ2h0OiA0MDBweDsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICB9CgogICAgICAgIC5qc29uLW91dHB1dCBwcmUgewogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICB9CgogICAgICAgIC5jb3B5LWJ0biB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiA4cHg7CiAgICAgICAgICAgIHJpZ2h0OiA4cHg7CiAgICAgICAgfQoKICAgICAgICAuY2hlY2tib3gtZ3JvdXAgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLmNoZWNrYm94LWdyb3VwIGxhYmVsIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDNweDsKICAgICAgICB9CgogICAgICAgIGlucHV0OnJlcXVpcmVkOmludmFsaWQsCiAgICAgICAgc2VsZWN0OnJlcXVpcmVkOmludmFsaWQgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICNkZGQ7CiAgICAgICAgfQoKICAgICAgICBpbnB1dDpyZXF1aXJlZDp2YWxpZCwKICAgICAgICBzZWxlY3Q6cmVxdWlyZWQ6dmFsaWQgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICNkZGQ7CiAgICAgICAgfQoKICAgICAgICAuYWNjZXNzLXJlY29yZHMtc2VjdGlvbiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMGY0ZmY7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICM2NjdlZWE7CiAgICAgICAgfQoKICAgICAgICAuYWNjZXNzLXJlY29yZHMtaGVhZGVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmFjY2Vzcy1yZWNvcmRzLWhlYWRlciBoNCB7CiAgICAgICAgICAgIGNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICB9CgogICAgICAgIC5hY2Nlc3MtcmVjb3JkLWl0ZW0gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkMGQwZDA7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICB9CgogICAgICAgIC5hY2Nlc3MtcmVjb3JkLWhlYWRlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMDsKICAgICAgICB9CgogICAgICAgIC5hY2Nlc3MtcmVjb3JkLWhlYWRlciBoNSB7CiAgICAgICAgICAgIGNvbG9yOiAjNTU1OwogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICB9CgogICAgICAgIC5hY2Nlc3MtcmVjb3JkLWdyaWQgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg1LCAxZnIpOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICB9CgogICAgICAgIC5idG4tc21hbGwgewogICAgICAgICAgICBwYWRkaW5nOiA0cHggMTJweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBoZWlnaHQ6IDI4cHg7CiAgICAgICAgfQoKICAgICAgICAucnFjb25kLXNlY3Rpb24gewogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmOWU2OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjZmZjMTA3OwogICAgICAgIH0KCiAgICAgICAgLnJxY29uZC1zZWN0aW9uIGg2IHsKICAgICAgICAgICAgY29sb3I6ICNmZjk4MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgfQoKICAgICAgICAucnFjb25kLWdyaWQgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg0LCAxZnIpOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICB9CgogICAgICAgIC5ub3RpZnktc2VjdGlvbiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlOGY1ZTk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICM0Y2FmNTA7CiAgICAgICAgfQoKICAgICAgICAubm90aWZ5LXNlY3Rpb24gaDYgewogICAgICAgICAgICBjb2xvcjogIzJlN2QzMjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBtYXJnaW46IDAgMCA4cHggMDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICB9CgogICAgICAgIC5ub3RpZnktaGVhZGVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgfQoKICAgICAgICAubm90aWZ5LWl0ZW0gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA2cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2M4ZTZjOTsKICAgICAgICB9CgogICAgICAgIC5ub3RpZnktaXRlbS1oZWFkZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDZweDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDRweDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7CiAgICAgICAgfQoKICAgICAgICAubm90aWZ5LWl0ZW0taGVhZGVyIGg2IHsKICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4OwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGNvbG9yOiAjMzg4ZTNjOwogICAgICAgIH0KCiAgICAgICAgLm5vdGlmeS1ncmlkIHsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTsKICAgICAgICAgICAgZ2FwOiA2cHg7CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgPGgxPlBvbGljeSBKU09OIEdlbmVyYXRvcjwvaDE+CgogICAgICAgIDxkaXYgY2xhc3M9ImNoYW5uZWwtc2VjdGlvbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iY2hhbm5lbElkIj5DaGFubmVsIElEOjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImNoYW5uZWxJZCIgcGxhY2Vob2xkZXI9IkVudGVyIENoYW5uZWwgSUQiIHZhbHVlPSJDSEFOTkVMMDAxIj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgaWQ9InBvbGljaWVzQ29udGFpbmVyIj48L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iYWN0aW9ucyI+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iYWRkUG9saWN5KCkiPkFkZCBQb2xpY3k8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBvbmNsaWNrPSJnZW5lcmF0ZUpTT04oKSI+R2VuZXJhdGUgSlNPTjwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIG9uY2xpY2s9ImdlbmVyYXRlU1FMKCkiPkdlbmVyYXRlIFNRTDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJvdXRwdXQtc2VjdGlvbiIgaWQ9Im91dHB1dFNlY3Rpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgIDxoMj5HZW5lcmF0ZWQgSlNPTjo8L2gyPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJqc29uLW91dHB1dCI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBjb3B5LWJ0biIgb25jbGljaz0iY29weUpTT04oKSI+Q29weTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPHByZSBpZD0ianNvbk91dHB1dCI+PC9wcmU+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJvdXRwdXQtc2VjdGlvbiIgaWQ9InNxbE91dHB1dFNlY3Rpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgIDxoMj5HZW5lcmF0ZWQgU1FMOjwvaDI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Impzb24tb3V0cHV0Ij4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IGNvcHktYnRuIiBvbmNsaWNrPSJjb3B5U1FMKCkiPkNvcHk8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxwcmUgaWQ9InNxbE91dHB1dCI+PC9wcmU+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBsZXQgcG9saWN5Q291bnQgPSAwOwoKICAgICAgICBmdW5jdGlvbiBhZGRQb2xpY3koKSB7CiAgICAgICAgICAgIHBvbGljeUNvdW50Kys7CiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2xpY2llc0NvbnRhaW5lcicpOwoKICAgICAgICAgICAgY29uc3QgcG9saWN5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHBvbGljeURpdi5jbGFzc05hbWUgPSAncG9saWN5LWl0ZW0nOwogICAgICAgICAgICBwb2xpY3lEaXYuaWQgPSBgcG9saWN5LSR7cG9saWN5Q291bnR9YDsKCiAgICAgICAgICAgIHBvbGljeURpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb2xpY3ktaGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICA8aDM+UG9saWN5ICR7cG9saWN5Q291bnR9PC9oMz4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0icmVtb3ZlUG9saWN5KCR7cG9saWN5Q291bnR9KSI+UmVtb3ZlPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvbGljeS1ncmlkIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlNlcnZpY2UgSUQ6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InNlcnZpY2VJZC0ke3BvbGljeUNvdW50fSIgcGxhY2Vob2xkZXI9ImUuZy4sIEFQSTEiIHZhbHVlPSJBUEkke3BvbGljeUNvdW50fSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5VUkk6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InVyaS0ke3BvbGljeUNvdW50fSIgcGxhY2Vob2xkZXI9ImUuZy4sIC9hcGkvb25lIiB2YWx1ZT0iL2FwaS9lbmRwb2ludCR7cG9saWN5Q291bnR9IiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk1ldGhvZDogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9Im1ldGhvZC0ke3BvbGljeUNvdW50fSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJQT1NUIiBzZWxlY3RlZD5QT1NUPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJHRVQiPkdFVDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iUFVUIj5QVVQ8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IkRFTEVURSI+REVMRVRFPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJQQVRDSCI+UEFUQ0g8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5PdXQgVVJJOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ib3V0dXJpLSR7cG9saWN5Q291bnR9IiBwbGFjZWhvbGRlcj0iZS5nLiwgL2FwaS9vbmUiIHZhbHVlPSIvYXBpL2VuZHBvaW50JHtwb2xpY3lDb3VudH0iPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RGVzY3JpcHRpb246IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImRlc2MtJHtwb2xpY3lDb3VudH0iIHBsYWNlaG9sZGVyPSJFbnRlciBkZXNjcmlwdGlvbiIgdmFsdWU9IkFQSSAke3BvbGljeUNvdW50fSBEZXNjcmlwdGlvbiIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5MZXZlbDogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJsZXZlbC0ke3BvbGljeUNvdW50fSIgdmFsdWU9IjEiIG1pbj0iMCIgcmVxdWlyZWQgb25jaGFuZ2U9ImhhbmRsZUxldmVsQ2hhbmdlKCR7cG9saWN5Q291bnR9KSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5TY29wZTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic2NvcGUtJHtwb2xpY3lDb3VudH0iIHBsYWNlaG9sZGVyPSJlLmcuLCB2aWV3IiB2YWx1ZT0idmlldyIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UcmFuc2FjdGlvbiBBdXRoOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0idHhuQXV0aC0ke3BvbGljeUNvdW50fSIgcmVxdWlyZWQgb25jaGFuZ2U9ImhhbmRsZVR4bkF1dGhDaGFuZ2UoJHtwb2xpY3lDb3VudH0pIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Ik4iIHNlbGVjdGVkPk48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlkiPlk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBjaGVja2JveC1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InZhbGlkYXRpb24tJHtwb2xpY3lDb3VudH0iIGNoZWNrZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InZhbGlkYXRpb24tJHtwb2xpY3lDb3VudH0iPlZhbGlkYXRpb248L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAgY2hlY2tib3gtZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ3aGl0ZWxpc3QtJHtwb2xpY3lDb3VudH0iPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJ3aGl0ZWxpc3QtJHtwb2xpY3lDb3VudH0iPldoaXRlbGlzdDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJub3RpZnktc2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgPGg2Pk5vdGlmaWNhdGlvbiBDb25maWd1cmF0aW9uIChBcHBsaWVkIHRvIGFsbCBBY2Nlc3MgUmVjb3Jkcyk8L2g2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+Tm90aWZ5IE1hcDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im5vdGlmeU1hcC0ke3BvbGljeUNvdW50fSIgcGxhY2Vob2xkZXI9ImUuZy4sIFNUUjE9QUJDLFNUUjI9REVGIiB2YWx1ZT0iU1RSMT1BQkMsU1RSMj1ERUYiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5vdGlmeS1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDY+Tm90aWZ5IERldGFpbHM8L2g2PgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgYnRuLXNtYWxsIiBvbmNsaWNrPSJhZGROb3RpZnlEZXRhaWwoJHtwb2xpY3lDb3VudH0pIj5BZGQgTm90aWZ5IERldGFpbDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im5vdGlmeURldGxDb250YWluZXItJHtwb2xpY3lDb3VudH0iPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZXNzLXJlY29yZHMtc2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZXNzLXJlY29yZHMtaGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGg0PkFjY2VzcyBSZWNvcmRzPC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbWFsbCIgaWQ9ImFkZEFjY0J0bi0ke3BvbGljeUNvdW50fSIgb25jbGljaz0iYWRkQWNjZXNzUmVjb3JkKCR7cG9saWN5Q291bnR9KSI+QWRkIEFjY2VzcyBSZWNvcmQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJhY2Nlc3NSZWNvcmRzQ29udGFpbmVyLSR7cG9saWN5Q291bnR9Ij48L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwoKICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBvbGljeURpdik7CgogICAgICAgICAgICAvLyBJbml0aWFsaXplIHZhbGlkYXRpb24gYW5kIHdoaXRlbGlzdCBiYXNlZCBvbiBsZXZlbAogICAgICAgICAgICBoYW5kbGVMZXZlbENoYW5nZShwb2xpY3lDb3VudCk7CgogICAgICAgICAgICAvLyBBZGQgZGVmYXVsdCBub3RpZnkgZGV0YWlscyBhdCBwb2xpY3kgbGV2ZWwgKFNNUyBhbmQgRU1BSUwpCiAgICAgICAgICAgIGFkZE5vdGlmeURldGFpbChwb2xpY3lDb3VudCwgJ1NNUycsICdBVVRIMScsICdURU1QTEFURTEnKTsKICAgICAgICAgICAgYWRkTm90aWZ5RGV0YWlsKHBvbGljeUNvdW50LCAnRU1BSUwnLCAnQVVUSDInLCAnVEVNUExBVEUyJyk7CgogICAgICAgICAgICAvLyBBZGQgZGVmYXVsdCBhY2Nlc3MgcmVjb3JkCiAgICAgICAgICAgIGFkZEFjY2Vzc1JlY29yZChwb2xpY3lDb3VudCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW1vdmVQb2xpY3koaWQpIHsKICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwb2xpY3ktJHtpZH1gKTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGhhbmRsZUxldmVsQ2hhbmdlKGlkKSB7CiAgICAgICAgICAgIGNvbnN0IGxldmVsID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGxldmVsLSR7aWR9YCkudmFsdWUpOwogICAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdmFsaWRhdGlvbi0ke2lkfWApOwogICAgICAgICAgICBjb25zdCB3aGl0ZWxpc3RDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB3aGl0ZWxpc3QtJHtpZH1gKTsKCiAgICAgICAgICAgIGlmIChsZXZlbCA9PT0gMCkgewogICAgICAgICAgICAgICAgdmFsaWRhdGlvbkNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHdoaXRlbGlzdENoZWNrYm94LmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFsaWRhdGlvbkNoZWNrYm94LmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgd2hpdGVsaXN0Q2hlY2tib3guY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBsZXQgYWNjZXNzUmVjb3JkQ291bnRlcnMgPSB7fTsKCiAgICAgICAgZnVuY3Rpb24gYWRkQWNjZXNzUmVjb3JkKHBvbGljeUlkKSB7CiAgICAgICAgICAgIGlmICghYWNjZXNzUmVjb3JkQ291bnRlcnNbcG9saWN5SWRdKSB7CiAgICAgICAgICAgICAgICBhY2Nlc3NSZWNvcmRDb3VudGVyc1twb2xpY3lJZF0gPSAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCB0eG5BdXRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHR4bkF1dGgtJHtwb2xpY3lJZH1gKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFjY2Vzc1JlY29yZHNDb250YWluZXItJHtwb2xpY3lJZH1gKTsKICAgICAgICAgICAgY29uc3QgY3VycmVudENvdW50ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2Nlc3MtcmVjb3JkLWl0ZW0nKS5sZW5ndGg7CgogICAgICAgICAgICAvLyBDaGVjayBpZiB0eG5BdXRoIGlzIE4gYW5kIGFscmVhZHkgaGFzIDEgcmVjb3JkCiAgICAgICAgICAgIGlmICh0eG5BdXRoID09PSAnTicgJiYgY3VycmVudENvdW50ID49IDEpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdPbmx5IDEgYWNjZXNzIHJlY29yZCBhbGxvd2VkIHdoZW4gVHJhbnNhY3Rpb24gQXV0aCBpcyBOJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFjY2Vzc1JlY29yZENvdW50ZXJzW3BvbGljeUlkXSsrOwogICAgICAgICAgICBjb25zdCBhY2NJZCA9IGFjY2Vzc1JlY29yZENvdW50ZXJzW3BvbGljeUlkXTsKCiAgICAgICAgICAgIGNvbnN0IGFjY0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBhY2NEaXYuY2xhc3NOYW1lID0gJ2FjY2Vzcy1yZWNvcmQtaXRlbSc7CiAgICAgICAgICAgIGFjY0Rpdi5pZCA9IGBhY2Nlc3MtJHtwb2xpY3lJZH0tJHthY2NJZH1gOwoKICAgICAgICAgICAgYWNjRGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2Vzcy1yZWNvcmQtaGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICA8aDU+QWNjZXNzIFJlY29yZCAke2FjY0lkfTwvaDU+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtYWxsIiBvbmNsaWNrPSJyZW1vdmVBY2Nlc3NSZWNvcmQoJHtwb2xpY3lJZH0sICR7YWNjSWR9KSI+UmVtb3ZlPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2Vzcy1yZWNvcmQtZ3JpZCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBjaGVja2JveC1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImNoZWNrUmVxLSR7cG9saWN5SWR9LSR7YWNjSWR9IiBjaGVja2VkPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJjaGVja1JlcS0ke3BvbGljeUlkfS0ke2FjY0lkfSI+Q2hlY2sgUmVxPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlR4biBBdXRoIExldmVsOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJ0eG5BdXRoTGV2ZWwtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHZhbHVlPSIwIiBtaW49IjAiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+U2Vzc2lvbiBNYXA6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZXNNYXAtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCBzZXNzaW9uPT10cnVlIiB2YWx1ZT0ic2Vzc2lvbj09dHJ1ZSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Qcm9maWxlIE1hcDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InByb2ZNYXAtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCBwcm9maWxlIGRhdGEiIHZhbHVlPSIiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UmVxdWVzdCBNYXA6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJyZXFNYXAtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCB0eG5BbXQ8PTEwMCIgdmFsdWU9InR4bkFtdDw9MTAwIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJxY29uZC1zZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICA8aDY+UmVxdWVzdCBDb25kaXRpb25zIChycUNvbmQpPC9oNj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJycWNvbmQtZ3JpZCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlJpc2sgSW5kaWNhdG9yOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJpc2tJbmRpY2F0b3ItJHtwb2xpY3lJZH0tJHthY2NJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCAzIiB2YWx1ZT0iMyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Qb3N0IENvZGU6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icG9zdENvZGUtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCAwIiB2YWx1ZT0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5MaW1pdCBVcGQ6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibGltaXRVcGQtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCAwIiB2YWx1ZT0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5NaW4gQW10IENvZGU6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibWluQW10Q29kZS0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIERFRkFVTFRfTUlOIiB2YWx1ZT0iREVGQVVMVF9NSU4iPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+TWluIEFtdCBWYWx1ZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9Im1pbkFtdENvZGVWYWwtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCAwIiB2YWx1ZT0iMCIgc3RlcD0iMC4wMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5NYXggQW10IENvZGU6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibWF4QW10Q29kZS0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIERFRkFVTFRfTUFYIiB2YWx1ZT0iREVGQVVMVF9NQVgiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+TWF4IEFtdCBWYWx1ZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9Im1heEFtdENvZGVWYWwtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCA5OTk5OTk5OTk5Ljk5IiB2YWx1ZT0iOTk5OTk5OTk5OS45OSIgc3RlcD0iMC4wMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYWNjRGl2KTsKCiAgICAgICAgICAgIC8vIFVwZGF0ZSBidXR0b24gc3RhdGUKICAgICAgICAgICAgaGFuZGxlVHhuQXV0aENoYW5nZShwb2xpY3lJZCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW1vdmVBY2Nlc3NSZWNvcmQocG9saWN5SWQsIGFjY0lkKSB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWNjZXNzLSR7cG9saWN5SWR9LSR7YWNjSWR9YCk7CiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBVcGRhdGUgYnV0dG9uIHN0YXRlCiAgICAgICAgICAgIGhhbmRsZVR4bkF1dGhDaGFuZ2UocG9saWN5SWQpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVHhuQXV0aENoYW5nZShwb2xpY3lJZCkgewogICAgICAgICAgICBjb25zdCB0eG5BdXRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHR4bkF1dGgtJHtwb2xpY3lJZH1gKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFjY2Vzc1JlY29yZHNDb250YWluZXItJHtwb2xpY3lJZH1gKTsKICAgICAgICAgICAgY29uc3QgY3VycmVudENvdW50ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2Nlc3MtcmVjb3JkLWl0ZW0nKS5sZW5ndGg7CiAgICAgICAgICAgIGNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhZGRBY2NCdG4tJHtwb2xpY3lJZH1gKTsKCiAgICAgICAgICAgIGlmICh0eG5BdXRoID09PSAnTicgJiYgY3VycmVudENvdW50ID49IDEpIHsKICAgICAgICAgICAgICAgIGFkZEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBhZGRCdG4uc3R5bGUub3BhY2l0eSA9ICcwLjUnOwogICAgICAgICAgICAgICAgYWRkQnRuLnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhZGRCdG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGFkZEJ0bi5zdHlsZS5vcGFjaXR5ID0gJzEnOwogICAgICAgICAgICAgICAgYWRkQnRuLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgbGV0IG5vdGlmeURldGFpbENvdW50ZXJzID0ge307CgogICAgICAgIGZ1bmN0aW9uIGFkZE5vdGlmeURldGFpbChwb2xpY3lJZCwgZGVmYXVsdFR5cGUgPSAnU01TJywgZGVmYXVsdEF1dGggPSAnQVVUSDEnLCBkZWZhdWx0VGVtcGxhdGUgPSAnVEVNUExBVEUxJykgewogICAgICAgICAgICBpZiAoIW5vdGlmeURldGFpbENvdW50ZXJzW3BvbGljeUlkXSkgewogICAgICAgICAgICAgICAgbm90aWZ5RGV0YWlsQ291bnRlcnNbcG9saWN5SWRdID0gMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbm90aWZ5RGV0YWlsQ291bnRlcnNbcG9saWN5SWRdKys7CiAgICAgICAgICAgIGNvbnN0IG5vdGlmeUlkID0gbm90aWZ5RGV0YWlsQ291bnRlcnNbcG9saWN5SWRdOwoKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5vdGlmeURldGxDb250YWluZXItJHtwb2xpY3lJZH1gKTsKCiAgICAgICAgICAgIGNvbnN0IG5vdGlmeURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBub3RpZnlEaXYuY2xhc3NOYW1lID0gJ25vdGlmeS1pdGVtJzsKICAgICAgICAgICAgbm90aWZ5RGl2LmlkID0gYG5vdGlmeS0ke3BvbGljeUlkfS0ke25vdGlmeUlkfWA7CgogICAgICAgICAgICBub3RpZnlEaXYuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibm90aWZ5LWl0ZW0taGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICA8aDY+Tm90aWZ5IERldGFpbCAke25vdGlmeUlkfTwvaDY+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtYWxsIiBvbmNsaWNrPSJyZW1vdmVOb3RpZnlEZXRhaWwoJHtwb2xpY3lJZH0sICR7bm90aWZ5SWR9KSI+UmVtb3ZlPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5vdGlmeS1ncmlkIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk5vdGlmeSBUeXBlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9Im5vdGlmeVR5cGUtJHtwb2xpY3lJZH0tJHtub3RpZnlJZH0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iU01TIiAke2RlZmF1bHRUeXBlID09PSAnU01TJyA/ICdzZWxlY3RlZCcgOiAnJ30+U01TPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJFTUFJTCIgJHtkZWZhdWx0VHlwZSA9PT0gJ0VNQUlMJyA/ICdzZWxlY3RlZCcgOiAnJ30+RU1BSUw8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlBVU0giICR7ZGVmYXVsdFR5cGUgPT09ICdQVVNIJyA/ICdzZWxlY3RlZCcgOiAnJ30+UFVTSDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkF1dGggVHlwZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImF1dGhUWXBlLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9IiBwbGFjZWhvbGRlcj0iZS5nLiwgQVVUSDEiIHZhbHVlPSIke2RlZmF1bHRBdXRofSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UZW1wbGF0ZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InRlbXBsYXRlLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9IiBwbGFjZWhvbGRlcj0iZS5nLiwgVEVNUExBVEUxIiB2YWx1ZT0iJHtkZWZhdWx0VGVtcGxhdGV9Ij4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlRlbXBsYXRlIFBhcmFtczo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InRlbXBsYXRlUGFyYW1zLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9IiBwbGFjZWhvbGRlcj0iZS5nLiwgU1RSMSxTVFIyLFNUUjMiIHZhbHVlPSJTVFIxLFNUUjIsU1RSMyI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5NYW5kYXRvcnk6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibWFuZGF0b3J5LSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InRydWUiIHNlbGVjdGVkPnRydWU8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImZhbHNlIj5mYWxzZTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwoKICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5vdGlmeURpdik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW1vdmVOb3RpZnlEZXRhaWwocG9saWN5SWQsIG5vdGlmeUlkKSB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbm90aWZ5LSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9YCk7CiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZUpTT04oKSB7CiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGFsbCByZXF1aXJlZCBmaWVsZHMKICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtyZXF1aXJlZF0sIHNlbGVjdFtyZXF1aXJlZF0nKTsKICAgICAgICAgICAgbGV0IGlzVmFsaWQgPSB0cnVlOwoKICAgICAgICAgICAgcmVxdWlyZWRJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAncmVkJzsKICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlucHV0LnN0eWxlLmJvcmRlckNvbG9yID0gJyNkZGQnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmICghaXNWYWxpZCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ1BsZWFzZSBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMgbWFya2VkIHdpdGggKicpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBjaGFubmVsSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbm5lbElkJykudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IHBvbGljaWVzID0gW107CgogICAgICAgICAgICBjb25zdCBwb2xpY3lJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb2xpY3ktaXRlbScpOwoKICAgICAgICAgICAgcG9saWN5SXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gaXRlbS5pZC5zcGxpdCgnLScpWzFdOwoKICAgICAgICAgICAgICAgIC8vIEdldCBub3RpZnkgZGV0YWlscyBmb3IgdGhpcyBwb2xpY3kgKHdpbGwgYmUgYXBwbGllZCB0byBhbGwgYWNjZXNzIHJlY29yZHMpCiAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlNYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbm90aWZ5TWFwLSR7aWR9YCkudmFsdWU7CiAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlEZXRsID0gW107CiAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbm90aWZ5RGV0bENvbnRhaW5lci0ke2lkfWApOwogICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5SXRlbXMgPSBub3RpZnlDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLm5vdGlmeS1pdGVtJyk7CgogICAgICAgICAgICAgICAgbm90aWZ5SXRlbXMuZm9yRWFjaChub3RpZnlJdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlJZCA9IG5vdGlmeUl0ZW0uaWQuc3BsaXQoJy0nKVsyXTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5ID0gewogICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlUeXBlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbm90aWZ5VHlwZS0ke2lkfS0ke25vdGlmeUlkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBhdXRoVFlwZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGF1dGhUWXBlLSR7aWR9LSR7bm90aWZ5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdGVtcGxhdGUtJHtpZH0tJHtub3RpZnlJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVQYXJhbXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0ZW1wbGF0ZVBhcmFtcy0ke2lkfS0ke25vdGlmeUlkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBtYW5kYXRvcnk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtYW5kYXRvcnktJHtpZH0tJHtub3RpZnlJZH1gKS52YWx1ZQogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIG5vdGlmeURldGwucHVzaChub3RpZnkpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gR2V0IGFjY2VzcyByZWNvcmRzIGZvciB0aGlzIHBvbGljeQogICAgICAgICAgICAgICAgY29uc3QgYWNjUmVjb3JkcyA9IFtdOwogICAgICAgICAgICAgICAgY29uc3QgYWNjQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFjY2Vzc1JlY29yZHNDb250YWluZXItJHtpZH1gKTsKICAgICAgICAgICAgICAgIGNvbnN0IGFjY0l0ZW1zID0gYWNjQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2Nlc3MtcmVjb3JkLWl0ZW0nKTsKCiAgICAgICAgICAgICAgICBhY2NJdGVtcy5mb3JFYWNoKGFjY0l0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY0lkID0gYWNjSXRlbS5pZC5zcGxpdCgnLScpWzJdOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NSZWNvcmQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmVxOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hlY2tSZXEtJHtpZH0tJHthY2NJZH1gKS5jaGVja2VkLAogICAgICAgICAgICAgICAgICAgICAgICB0eG5BdXRoTGV2ZWw6IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0eG5BdXRoTGV2ZWwtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeU1hcDogbm90aWZ5TWFwLAogICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlEZXRsOiBub3RpZnlEZXRsLAogICAgICAgICAgICAgICAgICAgICAgICBzZXNNYXA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzZXNNYXAtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZk1hcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHByb2ZNYXAtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcmVxTWFwOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmVxTWFwLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHJxQ29uZDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlza0luZGljYXRvcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJpc2tJbmRpY2F0b3ItJHtpZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RDb2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcG9zdENvZGUtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0VXBkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbGltaXRVcGQtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkFtdDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtdENvZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtaW5BbXRDb2RlLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW10Q29kZVZhbDogcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWluQW10Q29kZVZhbC0ke2lkfS0ke2FjY0lkfWApLnZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFtdDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtdENvZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtYXhBbXRDb2RlLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW10Q29kZVZhbDogcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWF4QW10Q29kZVZhbC0ke2lkfS0ke2FjY0lkfWApLnZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgYWNjUmVjb3Jkcy5wdXNoKGFjY1JlY29yZCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCBwb2xpY3kgPSB7CiAgICAgICAgICAgICAgICAgICAgc2VydmljZUlkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc2VydmljZUlkLSR7aWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgdXJpOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXJpLSR7aWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWV0aG9kLSR7aWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgb3V0dXJpOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgb3V0dXJpLSR7aWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgZGVzYzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRlc2MtJHtpZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICBsZXZlbDogcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGxldmVsLSR7aWR9YCkudmFsdWUpLAogICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB2YWxpZGF0aW9uLSR7aWR9YCkuY2hlY2tlZCwKICAgICAgICAgICAgICAgICAgICB3aGl0ZWxpc3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB3aGl0ZWxpc3QtJHtpZH1gKS5jaGVja2VkLAogICAgICAgICAgICAgICAgICAgIHNjb3BlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc2NvcGUtJHtpZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB0eG5BdXRoOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdHhuQXV0aC0ke2lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIGFjY1JlY29yZHM6IGFjY1JlY29yZHMKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcG9saWNpZXMucHVzaChwb2xpY3kpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnN0IGpzb25PdXRwdXQgPSB7CiAgICAgICAgICAgICAgICBwb2xpY3lNYXA6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY2hhbm5lbElkLAogICAgICAgICAgICAgICAgICAgICAgICBwb2xpY2llczogcG9saWNpZXMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoanNvbk91dHB1dCwgbnVsbCwgMik7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc29uT3V0cHV0JykudGV4dENvbnRlbnQgPSBqc29uU3RyaW5nOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0U2VjdGlvbicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dFNlY3Rpb24nKS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlU1FMKCkgewogICAgICAgICAgICAvLyBWYWxpZGF0ZSBhbGwgcmVxdWlyZWQgZmllbGRzCiAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbcmVxdWlyZWRdLCBzZWxlY3RbcmVxdWlyZWRdJyk7CiAgICAgICAgICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTsKCiAgICAgICAgICAgIHJlcXVpcmVkSW5wdXRzLmZvckVhY2goaW5wdXQgPT4gewogICAgICAgICAgICAgICAgaWYgKCFpbnB1dC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIGlucHV0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3JlZCc7CiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjZGRkJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzIG1hcmtlZCB3aXRoIConKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgY2hhbm5lbElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5uZWxJZCcpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBwb2xpY2llcyA9IFtdOwoKICAgICAgICAgICAgY29uc3QgcG9saWN5SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9saWN5LWl0ZW0nKTsKCiAgICAgICAgICAgIHBvbGljeUl0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGl0ZW0uaWQuc3BsaXQoJy0nKVsxXTsKCiAgICAgICAgICAgICAgICAvLyBHZXQgbm90aWZ5IGRldGFpbHMgZm9yIHRoaXMgcG9saWN5ICh3aWxsIGJlIGFwcGxpZWQgdG8gYWxsIGFjY2VzcyByZWNvcmRzKQogICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5TWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5vdGlmeU1hcC0ke2lkfWApLnZhbHVlOwogICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5RGV0bCA9IFtdOwogICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5vdGlmeURldGxDb250YWluZXItJHtpZH1gKTsKICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeUl0ZW1zID0gbm90aWZ5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RpZnktaXRlbScpOwoKICAgICAgICAgICAgICAgIG5vdGlmeUl0ZW1zLmZvckVhY2gobm90aWZ5SXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5SWQgPSBub3RpZnlJdGVtLmlkLnNwbGl0KCctJylbMl07CgogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5VHlwZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5vdGlmeVR5cGUtJHtpZH0tJHtub3RpZnlJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aFRZcGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhdXRoVFlwZS0ke2lkfS0ke25vdGlmeUlkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRlbXBsYXRlLSR7aWR9LSR7bm90aWZ5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlUGFyYW1zOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdGVtcGxhdGVQYXJhbXMtJHtpZH0tJHtub3RpZnlJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbWFuZGF0b3J5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWFuZGF0b3J5LSR7aWR9LSR7bm90aWZ5SWR9YCkudmFsdWUKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBub3RpZnlEZXRsLnB1c2gobm90aWZ5KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIEdldCBhY2Nlc3MgcmVjb3JkcyBmb3IgdGhpcyBwb2xpY3kKICAgICAgICAgICAgICAgIGNvbnN0IGFjY1JlY29yZHMgPSBbXTsKICAgICAgICAgICAgICAgIGNvbnN0IGFjY0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhY2Nlc3NSZWNvcmRzQ29udGFpbmVyLSR7aWR9YCk7CiAgICAgICAgICAgICAgICBjb25zdCBhY2NJdGVtcyA9IGFjY0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjZXNzLXJlY29yZC1pdGVtJyk7CgogICAgICAgICAgICAgICAgYWNjSXRlbXMuZm9yRWFjaChhY2NJdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NJZCA9IGFjY0l0ZW0uaWQuc3BsaXQoJy0nKVsyXTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjUmVjb3JkID0gewogICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNoZWNrUmVxLSR7aWR9LSR7YWNjSWR9YCkuY2hlY2tlZCwKICAgICAgICAgICAgICAgICAgICAgICAgdHhuQXV0aExldmVsOiBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdHhuQXV0aExldmVsLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlNYXA6IG5vdGlmeU1hcCwKICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5RGV0bDogbm90aWZ5RGV0bCwKICAgICAgICAgICAgICAgICAgICAgICAgc2VzTWFwOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc2VzTWFwLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZNYXA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwcm9mTWFwLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcU1hcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlcU1hcC0ke2lkfS0ke2FjY0lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBycUNvbmQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpc2tJbmRpY2F0b3I6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByaXNrSW5kaWNhdG9yLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0Q29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHBvc3RDb2RlLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdFVwZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGxpbWl0VXBkLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5BbXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbXRDb2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWluQW10Q29kZS0ke2lkfS0ke2FjY0lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtdENvZGVWYWw6IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1pbkFtdENvZGVWYWwtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBbXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbXRDb2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWF4QW10Q29kZS0ke2lkfS0ke2FjY0lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtdENvZGVWYWw6IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1heEFtdENvZGVWYWwtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIGFjY1JlY29yZHMucHVzaChhY2NSZWNvcmQpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY29uc3QgcG9saWN5ID0gewogICAgICAgICAgICAgICAgICAgIHNlcnZpY2VJZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNlcnZpY2VJZC0ke2lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHVyaTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHVyaS0ke2lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1ldGhvZC0ke2lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIG91dHVyaTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG91dHVyaS0ke2lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIGRlc2M6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZXNjLSR7aWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBsZXZlbC0ke2lkfWApLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdmFsaWRhdGlvbi0ke2lkfWApLmNoZWNrZWQsCiAgICAgICAgICAgICAgICAgICAgd2hpdGVsaXN0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgd2hpdGVsaXN0LSR7aWR9YCkuY2hlY2tlZCwKICAgICAgICAgICAgICAgICAgICBzY29wZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNjb3BlLSR7aWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgdHhuQXV0aDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHR4bkF1dGgtJHtpZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICBhY2NSZWNvcmRzOiBhY2NSZWNvcmRzCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHBvbGljaWVzLnB1c2gocG9saWN5KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBHZW5lcmF0ZSBTUUwgSU5TRVJUIHN0YXRlbWVudHMKICAgICAgICAgICAgbGV0IHNxbFN0YXRlbWVudHMgPSAnLS0gTWFyaWFEQiBTUUwgSW5zZXJ0IFN0YXRlbWVudHNcblxuJzsKCiAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gJy0tIFBvbGljaWVzIFRhYmxlXG4nOwogICAgICAgICAgICBwb2xpY2llcy5mb3JFYWNoKChwb2xpY3ksIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uVmFsdWUgPSBwb2xpY3kudmFsaWRhdGlvbiA/IDEgOiAwOwogICAgICAgICAgICAgICAgY29uc3Qgd2hpdGVsaXN0VmFsdWUgPSBwb2xpY3kud2hpdGVsaXN0ID8gMSA6IDA7CgogICAgICAgICAgICAgICAgc3FsU3RhdGVtZW50cyArPSBgSU5TRVJUIElOVE8gcG9saWNpZXMgKGNoYW5uZWxfaWQsIHNlcnZpY2VfaWQsIHVyaSwgbWV0aG9kLCBvdXR1cmksIFxgZGVzY1xgLCBsZXZlbCwgdmFsaWRhdGlvbiwgd2hpdGVsaXN0LCBzY29wZSwgdHhuX2F1dGgpXG5gOwogICAgICAgICAgICAgICAgc3FsU3RhdGVtZW50cyArPSBgVkFMVUVTICgnJHtjaGFubmVsSWR9JywgJyR7cG9saWN5LnNlcnZpY2VJZH0nLCAnJHtwb2xpY3kudXJpfScsICcke3BvbGljeS5tZXRob2R9JywgJyR7cG9saWN5Lm91dHVyaX0nLCAnJHtwb2xpY3kuZGVzY30nLCAke3BvbGljeS5sZXZlbH0sICR7dmFsaWRhdGlvblZhbHVlfSwgJHt3aGl0ZWxpc3RWYWx1ZX0sICcke3BvbGljeS5zY29wZX0nLCAnJHtwb2xpY3kudHhuQXV0aH0nKTtcblxuYDsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9ICdcbi0tIEFjY2VzcyBSZWNvcmRzIFRhYmxlXG4nOwogICAgICAgICAgICBwb2xpY2llcy5mb3JFYWNoKChwb2xpY3ksIHBvbGljeUluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBwb2xpY3kuYWNjUmVjb3Jkcy5mb3JFYWNoKChhY2NSZWNvcmQsIGFjY0luZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tSZXFWYWx1ZSA9IGFjY1JlY29yZC5jaGVja1JlcSA/IDEgOiAwOwoKICAgICAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGBJTlNFUlQgSU5UTyBhY2Nlc3NfcmVjb3JkcyAoc2VydmljZV9pZCwgY2hlY2tfcmVxLCB0eG5fYXV0aF9sZXZlbCwgc2VzX21hcCwgcHJvZl9tYXAsIHJlcV9tYXApXG5gOwogICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFZBTFVFUyAoJyR7cG9saWN5LnNlcnZpY2VJZH0nLCAke2NoZWNrUmVxVmFsdWV9LCAke2FjY1JlY29yZC50eG5BdXRoTGV2ZWx9LCAnJHthY2NSZWNvcmQuc2VzTWFwfScsICcke2FjY1JlY29yZC5wcm9mTWFwfScsICcke2FjY1JlY29yZC5yZXFNYXB9Jyk7XG5cbmA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9ICdcbi0tIFJlcXVlc3QgQ29uZGl0aW9ucyBUYWJsZVxuJzsKICAgICAgICAgICAgcG9saWNpZXMuZm9yRWFjaCgocG9saWN5LCBwb2xpY3lJbmRleCkgPT4gewogICAgICAgICAgICAgICAgcG9saWN5LmFjY1JlY29yZHMuZm9yRWFjaCgoYWNjUmVjb3JkLCBhY2NJbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYElOU0VSVCBJTlRPIHJxX2NvbmQgKHNlcnZpY2VfaWQsIHJpc2tfaW5kaWNhdG9yLCBwb3N0X2NvZGUsIGxpbWl0X3VwZClcbmA7CiAgICAgICAgICAgICAgICAgICAgc3FsU3RhdGVtZW50cyArPSBgVkFMVUVTICgnJHtwb2xpY3kuc2VydmljZUlkfScsICcke2FjY1JlY29yZC5ycUNvbmQucmlza0luZGljYXRvcn0nLCAnJHthY2NSZWNvcmQucnFDb25kLnBvc3RDb2RlfScsICcke2FjY1JlY29yZC5ycUNvbmQubGltaXRVcGR9Jyk7XG5cbmA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9ICdcbi0tIEFtb3VudCBDb2RlIFRhYmxlIChNaW4gQW1vdW50KVxuJzsKICAgICAgICAgICAgcG9saWNpZXMuZm9yRWFjaCgocG9saWN5LCBwb2xpY3lJbmRleCkgPT4gewogICAgICAgICAgICAgICAgcG9saWN5LmFjY1JlY29yZHMuZm9yRWFjaCgoYWNjUmVjb3JkLCBhY2NJbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYElOU0VSVCBJTlRPIGFtdF9jb2RlIChzZXJ2aWNlX2lkLCBhbXRfdHlwZSwgYW10X2NvZGUsIGFtdF9jb2RlX3ZhbClcbmA7CiAgICAgICAgICAgICAgICAgICAgc3FsU3RhdGVtZW50cyArPSBgVkFMVUVTICgnJHtwb2xpY3kuc2VydmljZUlkfScsICdNSU4nLCAnJHthY2NSZWNvcmQucnFDb25kLm1pbkFtdC5hbXRDb2RlfScsICR7YWNjUmVjb3JkLnJxQ29uZC5taW5BbXQuYW10Q29kZVZhbH0pO1xuXG5gOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgc3FsU3RhdGVtZW50cyArPSAnXG4tLSBBbW91bnQgQ29kZSBUYWJsZSAoTWF4IEFtb3VudClcbic7CiAgICAgICAgICAgIHBvbGljaWVzLmZvckVhY2goKHBvbGljeSwgcG9saWN5SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIHBvbGljeS5hY2NSZWNvcmRzLmZvckVhY2goKGFjY1JlY29yZCwgYWNjSW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGBJTlNFUlQgSU5UTyBhbXRfY29kZSAoc2VydmljZV9pZCwgYW10X3R5cGUsIGFtdF9jb2RlLCBhbXRfY29kZV92YWwpXG5gOwogICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFZBTFVFUyAoJyR7cG9saWN5LnNlcnZpY2VJZH0nLCAnTUFYJywgJyR7YWNjUmVjb3JkLnJxQ29uZC5tYXhBbXQuYW10Q29kZX0nLCAke2FjY1JlY29yZC5ycUNvbmQubWF4QW10LmFtdENvZGVWYWx9KTtcblxuYDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gJ1xuLS0gTm90aWZpY2F0aW9uIERldGFpbHMgVGFibGVcbic7CiAgICAgICAgICAgIHBvbGljaWVzLmZvckVhY2goKHBvbGljeSwgcG9saWN5SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIHBvbGljeS5hY2NSZWNvcmRzLmZvckVhY2goKGFjY1JlY29yZCwgYWNjSW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBhY2NSZWNvcmQubm90aWZ5RGV0bC5mb3JFYWNoKChub3RpZnksIG5vdGlmeUluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYElOU0VSVCBJTlRPIG5vdGlmeV9kZXRsIChzZXJ2aWNlX2lkLCBub3RpZnlfbWFwLCBub3RpZnlfdHlwZSwgYXV0aF90eXBlLCB0ZW1wbGF0ZSwgdGVtcGxhdGVfcGFyYW1zLCBtYW5kYXRvcnkpXG5gOwogICAgICAgICAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGBWQUxVRVMgKCcke3BvbGljeS5zZXJ2aWNlSWR9JywgJyR7YWNjUmVjb3JkLm5vdGlmeU1hcH0nLCAnJHtub3RpZnkubm90aWZ5VHlwZX0nLCAnJHtub3RpZnkuYXV0aFRZcGV9JywgJyR7bm90aWZ5LnRlbXBsYXRlfScsICcke25vdGlmeS50ZW1wbGF0ZVBhcmFtc30nLCAnJHtub3RpZnkubWFuZGF0b3J5fScpO1xuYDsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTGFzdCA9IHBvbGljeUluZGV4ID09PSBwb2xpY2llcy5sZW5ndGggLSAxICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjSW5kZXggPT09IHBvbGljeS5hY2NSZWNvcmRzLmxlbmd0aCAtIDEgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlJbmRleCA9PT0gYWNjUmVjb3JkLm5vdGlmeURldGwubGVuZ3RoIC0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0xhc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gJ1xuJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NxbE91dHB1dCcpLnRleHRDb250ZW50ID0gc3FsU3RhdGVtZW50czsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NxbE91dHB1dFNlY3Rpb24nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcWxPdXRwdXRTZWN0aW9uJykuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjb3B5SlNPTigpIHsKICAgICAgICAgICAgY29uc3QganNvblRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNvbk91dHB1dCcpLnRleHRDb250ZW50OwogICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChqc29uVGV4dCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBjb3B5QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNvdXRwdXRTZWN0aW9uIC5jb3B5LWJ0bicpOwogICAgICAgICAgICAgICAgY29weUJ0bnMuZm9yRWFjaChidG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ0bi50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSAnQ29waWVkISc7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDsKICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNvcHlTUUwoKSB7CiAgICAgICAgICAgIGNvbnN0IHNxbFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3FsT3V0cHV0JykudGV4dENvbnRlbnQ7CiAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHNxbFRleHQpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY29weUJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjc3FsT3V0cHV0U2VjdGlvbiAuY29weS1idG4nKTsKICAgICAgICAgICAgICAgIGNvcHlCdG5zLmZvckVhY2goYnRuID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSBidG4udGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gJ0NvcGllZCEnOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7CiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBBZGQgb25lIHBvbGljeSBieSBkZWZhdWx0IG9uIHBhZ2UgbG9hZAogICAgICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgYWRkUG9saWN5KCk7CiAgICAgICAgfTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K

