Test


PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+UG9saWN5IEpTT04gR2VuZXJhdG9yPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICAqIHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIH0KCiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgbWluLWhlaWdodDogMTAwdmg7CiAgICAgICAgfQoKICAgICAgICAuY29udGFpbmVyIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDEwcHggNDBweCByZ2JhKDAsMCwwLDAuMSk7CiAgICAgICAgfQoKICAgICAgICBoMSB7CiAgICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICB9CgogICAgICAgIC5jaGFubmVsLXNlY3Rpb24gewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgfQoKICAgICAgICAuZm9ybS1ncm91cCB7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsKICAgICAgICB9CgogICAgICAgIGxhYmVsIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDNweDsKICAgICAgICAgICAgY29sb3I6ICM1NTU7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICB9CgogICAgICAgIGlucHV0W3R5cGU9InRleHQiXSwKICAgICAgICBpbnB1dFt0eXBlPSJudW1iZXIiXSwKICAgICAgICBzZWxlY3QgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgcGFkZGluZzogNnB4IDhweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIGhlaWdodDogMzJweDsKICAgICAgICB9CgogICAgICAgIGlucHV0W3R5cGU9ImNoZWNrYm94Il0gewogICAgICAgICAgICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICAgICAgICAgIGhlaWdodDogMTZweDsKICAgICAgICB9CgogICAgICAgIC5wb2xpY3ktaXRlbSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICB9CgogICAgICAgIC5wb2xpY3ktaGVhZGVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogOHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzY2N2VlYTsKICAgICAgICB9CgogICAgICAgIC5wb2xpY3ktaGVhZGVyIGgzIHsKICAgICAgICAgICAgY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgIH0KCiAgICAgICAgLnBvbGljeS1ncmlkIHsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTsKICAgICAgICAgICAgZ2FwOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmJ0biB7CiAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxNnB4OwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICAgICAgICBoZWlnaHQ6IDMycHg7CiAgICAgICAgfQoKICAgICAgICAuYnRuLXByaW1hcnkgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjY3ZWVhOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYnRuLXByaW1hcnk6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNTU2OGQzOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1zdWNjZXNzIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzI4YTc0NTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1zdWNjZXNzOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzIxODgzODsKICAgICAgICB9CgogICAgICAgIC5idG4tZGFuZ2VyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2RjMzU0NTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1kYW5nZXI6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjYzgyMzMzOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1zZWNvbmRhcnkgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNmM3NTdkOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYnRuLXNlY29uZGFyeTpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICM1YTYyNjg7CiAgICAgICAgfQoKICAgICAgICAuYWN0aW9ucyB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICB9CgogICAgICAgIC5vdXRwdXQtc2VjdGlvbiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgfQoKICAgICAgICAub3V0cHV0LXNlY3Rpb24gaDIgewogICAgICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAuanNvbi1vdXRwdXQgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMmQyZDJkOwogICAgICAgICAgICBjb2xvcjogI2Y4ZjhmMjsKICAgICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDQwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgb3ZlcmZsb3cteDogYXV0bzsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBtYXgtaGVpZ2h0OiA0MDBweDsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICB9CgogICAgICAgIC5qc29uLW91dHB1dCBwcmUgewogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICB9CgogICAgICAgIC5jb3B5LWJ0biB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiA4cHg7CiAgICAgICAgICAgIHJpZ2h0OiA4cHg7CiAgICAgICAgfQoKICAgICAgICAuY2hlY2tib3gtZ3JvdXAgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLmNoZWNrYm94LWdyb3VwIGxhYmVsIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDNweDsKICAgICAgICB9CgogICAgICAgIGlucHV0OnJlcXVpcmVkOmludmFsaWQsCiAgICAgICAgc2VsZWN0OnJlcXVpcmVkOmludmFsaWQgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICNkZGQ7CiAgICAgICAgfQoKICAgICAgICBpbnB1dDpyZXF1aXJlZDp2YWxpZCwKICAgICAgICBzZWxlY3Q6cmVxdWlyZWQ6dmFsaWQgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICNkZGQ7CiAgICAgICAgfQoKICAgICAgICAuYWNjZXNzLXJlY29yZHMtc2VjdGlvbiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMGY0ZmY7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICM2NjdlZWE7CiAgICAgICAgfQoKICAgICAgICAuYWNjZXNzLXJlY29yZHMtaGVhZGVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmFjY2Vzcy1yZWNvcmRzLWhlYWRlciBoNCB7CiAgICAgICAgICAgIGNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICB9CgogICAgICAgIC5hY2Nlc3MtcmVjb3JkLWl0ZW0gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkMGQwZDA7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICB9CgogICAgICAgIC5hY2Nlc3MtcmVjb3JkLWhlYWRlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMDsKICAgICAgICB9CgogICAgICAgIC5hY2Nlc3MtcmVjb3JkLWhlYWRlciBoNSB7CiAgICAgICAgICAgIGNvbG9yOiAjNTU1OwogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICB9CgogICAgICAgIC5hY2Nlc3MtcmVjb3JkLWdyaWQgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg1LCAxZnIpOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICB9CgogICAgICAgIC5idG4tc21hbGwgewogICAgICAgICAgICBwYWRkaW5nOiA0cHggMTJweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBoZWlnaHQ6IDI4cHg7CiAgICAgICAgfQoKICAgICAgICAucnFjb25kLXNlY3Rpb24gewogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmOWU2OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjZmZjMTA3OwogICAgICAgIH0KCiAgICAgICAgLnJxY29uZC1zZWN0aW9uIGg2IHsKICAgICAgICAgICAgY29sb3I6ICNmZjk4MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgfQoKICAgICAgICAucnFjb25kLWdyaWQgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg0LCAxZnIpOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICB9CgogICAgICAgIC5ub3RpZnktc2VjdGlvbiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlOGY1ZTk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICM0Y2FmNTA7CiAgICAgICAgfQoKICAgICAgICAubm90aWZ5LXNlY3Rpb24gaDYgewogICAgICAgICAgICBjb2xvcjogIzJlN2QzMjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBtYXJnaW46IDAgMCA4cHggMDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICB9CgogICAgICAgIC5ub3RpZnktaGVhZGVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgfQoKICAgICAgICAubm90aWZ5LWl0ZW0gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA2cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2M4ZTZjOTsKICAgICAgICB9CgogICAgICAgIC5ub3RpZnktaXRlbS1oZWFkZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDZweDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDRweDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7CiAgICAgICAgfQoKICAgICAgICAubm90aWZ5LWl0ZW0taGVhZGVyIGg2IHsKICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4OwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGNvbG9yOiAjMzg4ZTNjOwogICAgICAgIH0KCiAgICAgICAgLm5vdGlmeS1ncmlkIHsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTsKICAgICAgICAgICAgZ2FwOiA2cHg7CiAgICAgICAgfQoKICAgICAgICAuaW1wb3J0LXNlY3Rpb24gewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZTNmMmZkOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjMjE5NmYzOwogICAgICAgIH0KCiAgICAgICAgLmltcG9ydC1zZWN0aW9uIGg2IHsKICAgICAgICAgICAgY29sb3I6ICMxOTc2ZDI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgfQoKICAgICAgICAuaW1wb3J0LXNlY3Rpb24gdGV4dGFyZWEgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWluLWhlaWdodDogMTUwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICByZXNpemU6IHZlcnRpY2FsOwogICAgICAgIH0KCiAgICAgICAgLmltcG9ydC1hY3Rpb25zIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZ2FwOiAxMHB4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLnZhbGlkYXRpb24tbWVzc2FnZSB7CiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgfQoKICAgICAgICAudmFsaWRhdGlvbi1zdWNjZXNzIHsKICAgICAgICAgICAgY29sb3I6ICMyOGE3NDU7CiAgICAgICAgfQoKICAgICAgICAudmFsaWRhdGlvbi1lcnJvciB7CiAgICAgICAgICAgIGNvbG9yOiAjZGMzNTQ1OwogICAgICAgIH0KCiAgICAgICAgLnRvZ2dsZS1pbXBvcnQtYnRuIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICB9CgogICAgICAgIC5jaGFubmVsLWl0ZW0gewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjlmOWY5OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICM2NjdlZWE7CiAgICAgICAgfQoKICAgICAgICAuY2hhbm5lbC1oZWFkZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzY2N2VlYTsKICAgICAgICB9CgogICAgICAgIC5jaGFubmVsLWhlYWRlciBoMiB7CiAgICAgICAgICAgIGNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICB9CgogICAgICAgIC5jaGFubmVsLWlkLWlucHV0IHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICA8aDE+UG9saWN5IEpTT04gR2VuZXJhdG9yPC9oMT4KCiAgICAgICAgPGRpdiBjbGFzcz0idG9nZ2xlLWltcG9ydC1idG4iPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJ0b2dnbGVJbXBvcnRCdG4iIG9uY2xpY2s9InRvZ2dsZUltcG9ydFNlY3Rpb24oKSI+CiAgICAgICAgICAgICAgICDwn5OlIFNob3cgSW1wb3J0IEpTT04KICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9ImltcG9ydC1zZWN0aW9uIiBpZD0iaW1wb3J0U2VjdGlvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgPGg2PkltcG9ydCBKU09OIChPcHRpb25hbCk8L2g2PgogICAgICAgICAgICA8dGV4dGFyZWEgaWQ9Impzb25JbXBvcnRJbnB1dCIgcGxhY2Vob2xkZXI9IlBhc3RlIHlvdXIgSlNPTiBoZXJlLi4uIj48L3RleHRhcmVhPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbXBvcnQtYWN0aW9ucyI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9InZhbGlkYXRlQW5kTG9hZEpTT04oKSI+VmFsaWRhdGUgJiBMb2FkIEpTT048L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IiBvbmNsaWNrPSJjbGVhckltcG9ydCgpIj5DbGVhcjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPHNwYW4gaWQ9InZhbGlkYXRpb25NZXNzYWdlIiBjbGFzcz0idmFsaWRhdGlvbi1tZXNzYWdlIj48L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJhY3Rpb25zIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJhZGRDaGFubmVsKCkiPkFkZCBDaGFubmVsPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgb25jbGljaz0iZ2VuZXJhdGVKU09OKCkiPkdlbmVyYXRlIEpTT048L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBvbmNsaWNrPSJnZW5lcmF0ZVNRTCgpIj5HZW5lcmF0ZSBTUUw8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBpZD0iY2hhbm5lbHNDb250YWluZXIiPjwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJvdXRwdXQtc2VjdGlvbiIgaWQ9Im91dHB1dFNlY3Rpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgIDxoMj5HZW5lcmF0ZWQgSlNPTjo8L2gyPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJqc29uLW91dHB1dCI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBjb3B5LWJ0biIgb25jbGljaz0iY29weUpTT04oKSI+Q29weTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgY29weS1idG4iIG9uY2xpY2s9ImNsZWFySlNPTk91dHB1dCgpIiBzdHlsZT0icmlnaHQ6IDgwcHg7Ij5DbGVhcjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPHByZSBpZD0ianNvbk91dHB1dCI+PC9wcmU+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJvdXRwdXQtc2VjdGlvbiIgaWQ9InNxbE91dHB1dFNlY3Rpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgIDxoMj5HZW5lcmF0ZWQgU1FMOjwvaDI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Impzb24tb3V0cHV0Ij4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IGNvcHktYnRuIiBvbmNsaWNrPSJjb3B5U1FMKCkiPkNvcHk8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGNvcHktYnRuIiBvbmNsaWNrPSJjbGVhclNRTE91dHB1dCgpIiBzdHlsZT0icmlnaHQ6IDgwcHg7Ij5DbGVhcjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPHByZSBpZD0ic3FsT3V0cHV0Ij48L3ByZT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGxldCBjaGFubmVsQ291bnQgPSAwOwogICAgICAgIGxldCBwb2xpY3lDb3VudGVycyA9IHt9OwoKICAgICAgICBmdW5jdGlvbiBhZGRDaGFubmVsKCkgewogICAgICAgICAgICBjaGFubmVsQ291bnQrKzsKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5uZWxzQ29udGFpbmVyJyk7CgogICAgICAgICAgICBjb25zdCBjaGFubmVsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNoYW5uZWxEaXYuY2xhc3NOYW1lID0gJ2NoYW5uZWwtaXRlbSc7CiAgICAgICAgICAgIGNoYW5uZWxEaXYuaWQgPSBgY2hhbm5lbC0ke2NoYW5uZWxDb3VudH1gOwoKICAgICAgICAgICAgY2hhbm5lbERpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFubmVsLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgPGgyPkNoYW5uZWwgJHtjaGFubmVsQ291bnR9PC9oMj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0icmVtb3ZlQ2hhbm5lbCgke2NoYW5uZWxDb3VudH0pIj5SZW1vdmUgQ2hhbm5lbDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFubmVsLWlkLWlucHV0Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkNoYW5uZWwgSUQ6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImNoYW5uZWxJZC0ke2NoYW5uZWxDb3VudH0iIHBsYWNlaG9sZGVyPSJFbnRlciBDaGFubmVsIElEIiB2YWx1ZT0iQ0hBTk5FTDAwJHtjaGFubmVsQ291bnR9IiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWN0aW9ucyIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgYnRuLXNtYWxsIiBvbmNsaWNrPSJhZGRQb2xpY3koJHtjaGFubmVsQ291bnR9KSI+QWRkIFBvbGljeTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwb2xpY2llc0NvbnRhaW5lci0ke2NoYW5uZWxDb3VudH0iPjwvZGl2PgogICAgICAgICAgICBgOwoKICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNoYW5uZWxEaXYpOwoKICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBwb2xpY3kgY291bnRlciBmb3IgdGhpcyBjaGFubmVsCiAgICAgICAgICAgIHBvbGljeUNvdW50ZXJzW2NoYW5uZWxDb3VudF0gPSAwOwoKICAgICAgICAgICAgLy8gQWRkIG9uZSBkZWZhdWx0IHBvbGljeQogICAgICAgICAgICBhZGRQb2xpY3koY2hhbm5lbENvdW50KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNoYW5uZWwoY2hhbm5lbElkKSB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhbm5lbC0ke2NoYW5uZWxJZH1gKTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICBkZWxldGUgcG9saWN5Q291bnRlcnNbY2hhbm5lbElkXTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYWRkUG9saWN5KGNoYW5uZWxJZCkgewogICAgICAgICAgICBpZiAoIXBvbGljeUNvdW50ZXJzW2NoYW5uZWxJZF0pIHsKICAgICAgICAgICAgICAgIHBvbGljeUNvdW50ZXJzW2NoYW5uZWxJZF0gPSAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwb2xpY3lDb3VudGVyc1tjaGFubmVsSWRdKys7CiAgICAgICAgICAgIGNvbnN0IHBvbGljeUNvdW50ID0gcG9saWN5Q291bnRlcnNbY2hhbm5lbElkXTsKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHBvbGljaWVzQ29udGFpbmVyLSR7Y2hhbm5lbElkfWApOwoKICAgICAgICAgICAgY29uc3QgcG9saWN5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHBvbGljeURpdi5jbGFzc05hbWUgPSAncG9saWN5LWl0ZW0nOwogICAgICAgICAgICBwb2xpY3lEaXYuaWQgPSBgcG9saWN5LSR7Y2hhbm5lbElkfS0ke3BvbGljeUNvdW50fWA7CgogICAgICAgICAgICBjb25zdCBwb2xpY3lJZCA9IGAke2NoYW5uZWxJZH0tJHtwb2xpY3lDb3VudH1gOwoKICAgICAgICAgICAgcG9saWN5RGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvbGljeS1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxoMz5Qb2xpY3kgJHtwb2xpY3lDb3VudH08L2gzPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJyZW1vdmVQb2xpY3koJHtjaGFubmVsSWR9LCAke3BvbGljeUNvdW50fSkiPlJlbW92ZTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb2xpY3ktZ3JpZCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5TZXJ2aWNlIElEOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZXJ2aWNlSWQtJHtwb2xpY3lJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCBBUEkxIiB2YWx1ZT0iQVBJJHtwb2xpY3lDb3VudH0iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+VVJJOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ1cmktJHtwb2xpY3lJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCAvYXBpL29uZSIgdmFsdWU9Ii9hcGkvZW5kcG9pbnQke3BvbGljeUNvdW50fSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5NZXRob2Q6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJtZXRob2QtJHtwb2xpY3lJZH0iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iUE9TVCIgc2VsZWN0ZWQ+UE9TVDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iR0VUIj5HRVQ8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlBVVCI+UFVUPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJERUxFVEUiPkRFTEVURTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iUEFUQ0giPlBBVENIPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+T3V0IFVSSTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im91dHVyaS0ke3BvbGljeUlkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIC9hcGkvb25lIiB2YWx1ZT0iL2FwaS9lbmRwb2ludCR7cG9saWN5Q291bnR9Ij4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkRlc2NyaXB0aW9uOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJkZXNjLSR7cG9saWN5SWR9IiBwbGFjZWhvbGRlcj0iRW50ZXIgZGVzY3JpcHRpb24iIHZhbHVlPSJBUEkgJHtwb2xpY3lDb3VudH0gRGVzY3JpcHRpb24iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+TGV2ZWw6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ibGV2ZWwtJHtwb2xpY3lJZH0iIHZhbHVlPSIxIiBtaW49IjAiIHJlcXVpcmVkIG9uY2hhbmdlPSJoYW5kbGVMZXZlbENoYW5nZSgnJHtwb2xpY3lJZH0nKSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5TY29wZTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic2NvcGUtJHtwb2xpY3lJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCB2aWV3IiB2YWx1ZT0idmlldyIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UcmFuc2FjdGlvbiBBdXRoOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0idHhuQXV0aC0ke3BvbGljeUlkfSIgcmVxdWlyZWQgb25jaGFuZ2U9ImhhbmRsZVR4bkF1dGhDaGFuZ2UoJyR7cG9saWN5SWR9JykiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iTiIgc2VsZWN0ZWQ+Tjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iWSI+WTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIGNoZWNrYm94LWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idmFsaWRhdGlvbi0ke3BvbGljeUlkfSIgY2hlY2tlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0idmFsaWRhdGlvbi0ke3BvbGljeUlkfSI+VmFsaWRhdGlvbjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBjaGVja2JveC1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IndoaXRlbGlzdC0ke3BvbGljeUlkfSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IndoaXRlbGlzdC0ke3BvbGljeUlkfSI+V2hpdGVsaXN0PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5vdGlmeS1zZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICA8aDY+Tm90aWZpY2F0aW9uIENvbmZpZ3VyYXRpb24gKEFwcGxpZWQgdG8gYWxsIEFjY2VzcyBSZWNvcmRzKTwvaDY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Ob3RpZnkgTWFwOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibm90aWZ5TWFwLSR7cG9saWN5SWR9IiBwbGFjZWhvbGRlcj0iZS5nLiwgU1RSMT1BQkMsU1RSMj1ERUYiIHZhbHVlPSJTVFIxPUFCQyxTVFIyPURFRiI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibm90aWZ5LWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5Ob3RpZnkgRGV0YWlsczwvaDY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBidG4tc21hbGwiIG9uY2xpY2s9ImFkZE5vdGlmeURldGFpbCgnJHtwb2xpY3lJZH0nKSI+QWRkIE5vdGlmeSBEZXRhaWw8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJub3RpZnlEZXRsQ29udGFpbmVyLSR7cG9saWN5SWR9Ij48L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2Vzcy1yZWNvcmRzLXNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2Vzcy1yZWNvcmRzLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoND5BY2Nlc3MgUmVjb3JkczwvaDQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBidG4tc21hbGwiIGlkPSJhZGRBY2NCdG4tJHtwb2xpY3lJZH0iIG9uY2xpY2s9ImFkZEFjY2Vzc1JlY29yZCgnJHtwb2xpY3lJZH0nKSI+QWRkIEFjY2VzcyBSZWNvcmQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJhY2Nlc3NSZWNvcmRzQ29udGFpbmVyLSR7cG9saWN5SWR9Ij48L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwoKICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBvbGljeURpdik7CgogICAgICAgICAgICAvLyBJbml0aWFsaXplIHZhbGlkYXRpb24gYW5kIHdoaXRlbGlzdCBiYXNlZCBvbiBsZXZlbAogICAgICAgICAgICBoYW5kbGVMZXZlbENoYW5nZShwb2xpY3lJZCk7CgogICAgICAgICAgICAvLyBBZGQgZGVmYXVsdCBub3RpZnkgZGV0YWlscyBhdCBwb2xpY3kgbGV2ZWwgKFNNUyBhbmQgRU1BSUwpCiAgICAgICAgICAgIGFkZE5vdGlmeURldGFpbChwb2xpY3lJZCwgJ1NNUycsICdBVVRIMScsICdURU1QTEFURTEnKTsKICAgICAgICAgICAgYWRkTm90aWZ5RGV0YWlsKHBvbGljeUlkLCAnRU1BSUwnLCAnQVVUSDInLCAnVEVNUExBVEUyJyk7CgogICAgICAgICAgICAvLyBBZGQgZGVmYXVsdCBhY2Nlc3MgcmVjb3JkCiAgICAgICAgICAgIGFkZEFjY2Vzc1JlY29yZChwb2xpY3lJZCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW1vdmVQb2xpY3koY2hhbm5lbElkLCBwb2xpY3lDb3VudCkgewogICAgICAgICAgICBjb25zdCBwb2xpY3lJZCA9IGAke2NoYW5uZWxJZH0tJHtwb2xpY3lDb3VudH1gOwogICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHBvbGljeS0ke3BvbGljeUlkfWApOwogICAgICAgICAgICBpZiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTGV2ZWxDaGFuZ2UocG9saWN5SWQpIHsKICAgICAgICAgICAgY29uc3QgbGV2ZWwgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbGV2ZWwtJHtwb2xpY3lJZH1gKS52YWx1ZSk7CiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25DaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB2YWxpZGF0aW9uLSR7cG9saWN5SWR9YCk7CiAgICAgICAgICAgIGNvbnN0IHdoaXRlbGlzdENoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHdoaXRlbGlzdC0ke3BvbGljeUlkfWApOwoKICAgICAgICAgICAgaWYgKGxldmVsID09PSAwKSB7CiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uQ2hlY2tib3guY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgd2hpdGVsaXN0Q2hlY2tib3guY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uQ2hlY2tib3guY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB3aGl0ZWxpc3RDaGVja2JveC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGxldCBhY2Nlc3NSZWNvcmRDb3VudGVycyA9IHt9OwoKICAgICAgICBmdW5jdGlvbiBhZGRBY2Nlc3NSZWNvcmQocG9saWN5SWQpIHsKICAgICAgICAgICAgaWYgKCFhY2Nlc3NSZWNvcmRDb3VudGVyc1twb2xpY3lJZF0pIHsKICAgICAgICAgICAgICAgIGFjY2Vzc1JlY29yZENvdW50ZXJzW3BvbGljeUlkXSA9IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHR4bkF1dGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdHhuQXV0aC0ke3BvbGljeUlkfWApLnZhbHVlOwogICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWNjZXNzUmVjb3Jkc0NvbnRhaW5lci0ke3BvbGljeUlkfWApOwogICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmFjY2Vzcy1yZWNvcmQtaXRlbScpLmxlbmd0aDsKCiAgICAgICAgICAgIC8vIENoZWNrIGlmIHR4bkF1dGggaXMgTiBhbmQgYWxyZWFkeSBoYXMgMSByZWNvcmQKICAgICAgICAgICAgaWYgKHR4bkF1dGggPT09ICdOJyAmJiBjdXJyZW50Q291bnQgPj0gMSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ09ubHkgMSBhY2Nlc3MgcmVjb3JkIGFsbG93ZWQgd2hlbiBUcmFuc2FjdGlvbiBBdXRoIGlzIE4nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYWNjZXNzUmVjb3JkQ291bnRlcnNbcG9saWN5SWRdKys7CiAgICAgICAgICAgIGNvbnN0IGFjY0lkID0gYWNjZXNzUmVjb3JkQ291bnRlcnNbcG9saWN5SWRdOwoKICAgICAgICAgICAgY29uc3QgYWNjRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGFjY0Rpdi5jbGFzc05hbWUgPSAnYWNjZXNzLXJlY29yZC1pdGVtJzsKICAgICAgICAgICAgYWNjRGl2LmlkID0gYGFjY2Vzcy0ke3BvbGljeUlkfS0ke2FjY0lkfWA7CgogICAgICAgICAgICBhY2NEaXYuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZXNzLXJlY29yZC1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxoNT5BY2Nlc3MgUmVjb3JkICR7YWNjSWR9PC9oNT4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc21hbGwiIG9uY2xpY2s9InJlbW92ZUFjY2Vzc1JlY29yZCgke3BvbGljeUlkfSwgJHthY2NJZH0pIj5SZW1vdmU8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZXNzLXJlY29yZC1ncmlkIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIGNoZWNrYm94LWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iY2hlY2tSZXEtJHtwb2xpY3lJZH0tJHthY2NJZH0iIGNoZWNrZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImNoZWNrUmVxLSR7cG9saWN5SWR9LSR7YWNjSWR9Ij5DaGVjayBSZXE8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+VHhuIEF1dGggTGV2ZWw6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9InR4bkF1dGhMZXZlbC0ke3BvbGljeUlkfS0ke2FjY0lkfSIgdmFsdWU9IjAiIG1pbj0iMCI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5TZXNzaW9uIE1hcDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InNlc01hcC0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIHNlc3Npb249PXRydWUiIHZhbHVlPSJzZXNzaW9uPT10cnVlIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlByb2ZpbGUgTWFwOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icHJvZk1hcC0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIHByb2ZpbGUgZGF0YSIgdmFsdWU9IiI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5SZXF1ZXN0IE1hcDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJlcU1hcC0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIHR4bkFtdDw9MTAwIiB2YWx1ZT0idHhuQW10PD0xMDAiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icnFjb25kLXNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgIDxoNj5SZXF1ZXN0IENvbmRpdGlvbnMgKHJxQ29uZCk8L2g2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJxY29uZC1ncmlkIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UmlzayBJbmRpY2F0b3I6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icmlza0luZGljYXRvci0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIDMiIHZhbHVlPSIzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlBvc3QgQ29kZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwb3N0Q29kZS0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIDAiIHZhbHVlPSIwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkxpbWl0IFVwZDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJsaW1pdFVwZC0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIDAiIHZhbHVlPSIwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk1pbiBBbXQgQ29kZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJtaW5BbXRDb2RlLSR7cG9saWN5SWR9LSR7YWNjSWR9IiBwbGFjZWhvbGRlcj0iZS5nLiwgREVGQVVMVF9NSU4iIHZhbHVlPSJERUZBVUxUX01JTiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5NaW4gQW10IFZhbHVlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ibWluQW10Q29kZVZhbC0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIDAiIHZhbHVlPSIwIiBzdGVwPSIwLjAxIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk1heCBBbXQgQ29kZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJtYXhBbXRDb2RlLSR7cG9saWN5SWR9LSR7YWNjSWR9IiBwbGFjZWhvbGRlcj0iZS5nLiwgREVGQVVMVF9NQVgiIHZhbHVlPSJERUZBVUxUX01BWCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5NYXggQW10IFZhbHVlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ibWF4QW10Q29kZVZhbC0ke3BvbGljeUlkfS0ke2FjY0lkfSIgcGxhY2Vob2xkZXI9ImUuZy4sIDk5OTk5OTk5OTkuOTkiIHZhbHVlPSI5OTk5OTk5OTk5Ljk5IiBzdGVwPSIwLjAxIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKCiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhY2NEaXYpOwoKICAgICAgICAgICAgLy8gVXBkYXRlIGJ1dHRvbiBzdGF0ZQogICAgICAgICAgICBoYW5kbGVUeG5BdXRoQ2hhbmdlKHBvbGljeUlkKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZUFjY2Vzc1JlY29yZChwb2xpY3lJZCwgYWNjSWQpIHsKICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhY2Nlc3MtJHtwb2xpY3lJZH0tJHthY2NJZH1gKTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFVwZGF0ZSBidXR0b24gc3RhdGUKICAgICAgICAgICAgaGFuZGxlVHhuQXV0aENoYW5nZShwb2xpY3lJZCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoYW5kbGVUeG5BdXRoQ2hhbmdlKHBvbGljeUlkKSB7CiAgICAgICAgICAgIGNvbnN0IHR4bkF1dGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdHhuQXV0aC0ke3BvbGljeUlkfWApLnZhbHVlOwogICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWNjZXNzUmVjb3Jkc0NvbnRhaW5lci0ke3BvbGljeUlkfWApOwogICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmFjY2Vzcy1yZWNvcmQtaXRlbScpLmxlbmd0aDsKICAgICAgICAgICAgY29uc3QgYWRkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFkZEFjY0J0bi0ke3BvbGljeUlkfWApOwoKICAgICAgICAgICAgaWYgKHR4bkF1dGggPT09ICdOJyAmJiBjdXJyZW50Q291bnQgPj0gMSkgewogICAgICAgICAgICAgICAgYWRkQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGFkZEJ0bi5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7CiAgICAgICAgICAgICAgICBhZGRCdG4uc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFkZEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgYWRkQnRuLnN0eWxlLm9wYWNpdHkgPSAnMSc7CiAgICAgICAgICAgICAgICBhZGRCdG4uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBsZXQgbm90aWZ5RGV0YWlsQ291bnRlcnMgPSB7fTsKCiAgICAgICAgZnVuY3Rpb24gYWRkTm90aWZ5RGV0YWlsKHBvbGljeUlkLCBkZWZhdWx0VHlwZSA9ICdTTVMnLCBkZWZhdWx0QXV0aCA9ICdBVVRIMScsIGRlZmF1bHRUZW1wbGF0ZSA9ICdURU1QTEFURTEnKSB7CiAgICAgICAgICAgIGlmICghbm90aWZ5RGV0YWlsQ291bnRlcnNbcG9saWN5SWRdKSB7CiAgICAgICAgICAgICAgICBub3RpZnlEZXRhaWxDb3VudGVyc1twb2xpY3lJZF0gPSAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBub3RpZnlEZXRhaWxDb3VudGVyc1twb2xpY3lJZF0rKzsKICAgICAgICAgICAgY29uc3Qgbm90aWZ5SWQgPSBub3RpZnlEZXRhaWxDb3VudGVyc1twb2xpY3lJZF07CgogICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbm90aWZ5RGV0bENvbnRhaW5lci0ke3BvbGljeUlkfWApOwoKICAgICAgICAgICAgY29uc3Qgbm90aWZ5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIG5vdGlmeURpdi5jbGFzc05hbWUgPSAnbm90aWZ5LWl0ZW0nOwogICAgICAgICAgICBub3RpZnlEaXYuaWQgPSBgbm90aWZ5LSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9YDsKCiAgICAgICAgICAgIG5vdGlmeURpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJub3RpZnktaXRlbS1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxoNj5Ob3RpZnkgRGV0YWlsICR7bm90aWZ5SWR9PC9oNj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc21hbGwiIG9uY2xpY2s9InJlbW92ZU5vdGlmeURldGFpbCgke3BvbGljeUlkfSwgJHtub3RpZnlJZH0pIj5SZW1vdmU8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibm90aWZ5LWdyaWQiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+Tm90aWZ5IFR5cGU6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibm90aWZ5VHlwZS0ke3BvbGljeUlkfS0ke25vdGlmeUlkfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJTTVMiICR7ZGVmYXVsdFR5cGUgPT09ICdTTVMnID8gJ3NlbGVjdGVkJyA6ICcnfT5TTVM8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IkVNQUlMIiAke2RlZmF1bHRUeXBlID09PSAnRU1BSUwnID8gJ3NlbGVjdGVkJyA6ICcnfT5FTUFJTDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iUFVTSCIgJHtkZWZhdWx0VHlwZSA9PT0gJ1BVU0gnID8gJ3NlbGVjdGVkJyA6ICcnfT5QVVNIPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+QXV0aCBUeXBlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYXV0aFRZcGUtJHtwb2xpY3lJZH0tJHtub3RpZnlJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCBBVVRIMSIgdmFsdWU9IiR7ZGVmYXVsdEF1dGh9Ij4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlRlbXBsYXRlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idGVtcGxhdGUtJHtwb2xpY3lJZH0tJHtub3RpZnlJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCBURU1QTEFURTEiIHZhbHVlPSIke2RlZmF1bHRUZW1wbGF0ZX0iPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+VGVtcGxhdGUgUGFyYW1zOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idGVtcGxhdGVQYXJhbXMtJHtwb2xpY3lJZH0tJHtub3RpZnlJZH0iIHBsYWNlaG9sZGVyPSJlLmcuLCBTVFIxLFNUUjIsU1RSMyIgdmFsdWU9IlNUUjEsU1RSMixTVFIzIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk1hbmRhdG9yeTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJtYW5kYXRvcnktJHtwb2xpY3lJZH0tJHtub3RpZnlJZH0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0idHJ1ZSIgc2VsZWN0ZWQ+dHJ1ZTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZmFsc2UiPmZhbHNlPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobm90aWZ5RGl2KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZU5vdGlmeURldGFpbChwb2xpY3lJZCwgbm90aWZ5SWQpIHsKICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBub3RpZnktJHtwb2xpY3lJZH0tJHtub3RpZnlJZH1gKTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlSlNPTigpIHsKICAgICAgICAgICAgLy8gVmFsaWRhdGUgYWxsIHJlcXVpcmVkIGZpZWxkcwogICAgICAgICAgICBjb25zdCByZXF1aXJlZElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3JlcXVpcmVkXSwgc2VsZWN0W3JlcXVpcmVkXScpOwogICAgICAgICAgICBsZXQgaXNWYWxpZCA9IHRydWU7CgogICAgICAgICAgICByZXF1aXJlZElucHV0cy5mb3JFYWNoKGlucHV0ID0+IHsKICAgICAgICAgICAgICAgIGlmICghaW5wdXQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZWQnOwogICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2RkZCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlIGZpbGwgaW4gYWxsIHJlcXVpcmVkIGZpZWxkcyBtYXJrZWQgd2l0aCAqJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHBvbGljeU1hcCA9IFtdOwogICAgICAgICAgICBjb25zdCBjaGFubmVsSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhbm5lbC1pdGVtJyk7CgogICAgICAgICAgICBjaGFubmVsSXRlbXMuZm9yRWFjaChjaGFubmVsSXRlbSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsSWQgPSBjaGFubmVsSXRlbS5pZC5zcGxpdCgnLScpWzFdOwogICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbElkVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhbm5lbElkLSR7Y2hhbm5lbElkfWApLnZhbHVlOwogICAgICAgICAgICAgICAgY29uc3QgcG9saWNpZXMgPSBbXTsKCiAgICAgICAgICAgICAgICBjb25zdCBwb2xpY3lJdGVtcyA9IGNoYW5uZWxJdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb2xpY3ktaXRlbScpOwoKICAgICAgICAgICAgICAgIHBvbGljeUl0ZW1zLmZvckVhY2gocG9saWN5SXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9saWN5SWQgPSBwb2xpY3lJdGVtLmlkLnJlcGxhY2UoJ3BvbGljeS0nLCAnJyk7CgogICAgICAgICAgICAgICAgICAgIC8vIEdldCBub3RpZnkgZGV0YWlscyBmb3IgdGhpcyBwb2xpY3kgKHdpbGwgYmUgYXBwbGllZCB0byBhbGwgYWNjZXNzIHJlY29yZHMpCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5TWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5vdGlmeU1hcC0ke3BvbGljeUlkfWApLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeURldGwgPSBbXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbm90aWZ5RGV0bENvbnRhaW5lci0ke3BvbGljeUlkfWApOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeUl0ZW1zID0gbm90aWZ5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RpZnktaXRlbScpOwoKICAgICAgICAgICAgICAgICAgICBub3RpZnlJdGVtcy5mb3JFYWNoKG5vdGlmeUl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlJZCA9IG5vdGlmeUl0ZW0uaWQuc3BsaXQoJy0nKS5wb3AoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeVR5cGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBub3RpZnlUeXBlLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoVFlwZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGF1dGhUWXBlLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRlbXBsYXRlLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVBhcmFtczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRlbXBsYXRlUGFyYW1zLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW5kYXRvcnk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtYW5kYXRvcnktJHtwb2xpY3lJZH0tJHtub3RpZnlJZH1gKS52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5RGV0bC5wdXNoKG5vdGlmeSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIC8vIEdldCBhY2Nlc3MgcmVjb3JkcyBmb3IgdGhpcyBwb2xpY3kKICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NSZWNvcmRzID0gW107CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFjY2Vzc1JlY29yZHNDb250YWluZXItJHtwb2xpY3lJZH1gKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NJdGVtcyA9IGFjY0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjZXNzLXJlY29yZC1pdGVtJyk7CgogICAgICAgICAgICAgICAgICAgIGFjY0l0ZW1zLmZvckVhY2goYWNjSXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY0lkID0gYWNjSXRlbS5pZC5zcGxpdCgnLScpLnBvcCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjUmVjb3JkID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tSZXE6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjaGVja1JlcS0ke3BvbGljeUlkfS0ke2FjY0lkfWApLmNoZWNrZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eG5BdXRoTGV2ZWw6IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0eG5BdXRoTGV2ZWwtJHtwb2xpY3lJZH0tJHthY2NJZH1gKS52YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlNYXA6IG5vdGlmeU1hcCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeURldGw6IG5vdGlmeURldGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNNYXA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzZXNNYXAtJHtwb2xpY3lJZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZNYXA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwcm9mTWFwLSR7cG9saWN5SWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFNYXA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZXFNYXAtJHtwb2xpY3lJZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJxQ29uZDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpc2tJbmRpY2F0b3I6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByaXNrSW5kaWNhdG9yLSR7cG9saWN5SWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdENvZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwb3N0Q29kZS0ke3BvbGljeUlkfS0ke2FjY0lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0VXBkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbGltaXRVcGQtJHtwb2xpY3lJZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5BbXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW10Q29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1pbkFtdENvZGUtJHtwb2xpY3lJZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW10Q29kZVZhbDogcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWluQW10Q29kZVZhbC0ke3BvbGljeUlkfS0ke2FjY0lkfWApLnZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QW10OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtdENvZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtYXhBbXRDb2RlLSR7cG9saWN5SWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtdENvZGVWYWw6IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1heEFtdENvZGVWYWwtJHtwb2xpY3lJZH0tJHthY2NJZH1gKS52YWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBhY2NSZWNvcmRzLnB1c2goYWNjUmVjb3JkKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9saWN5ID0gewogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSWQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzZXJ2aWNlSWQtJHtwb2xpY3lJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdXJpOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXJpLSR7cG9saWN5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1ldGhvZC0ke3BvbGljeUlkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBvdXR1cmk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBvdXR1cmktJHtwb2xpY3lJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRlc2MtJHtwb2xpY3lJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBsZXZlbC0ke3BvbGljeUlkfWApLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHZhbGlkYXRpb24tJHtwb2xpY3lJZH1gKS5jaGVja2VkLAogICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZWxpc3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB3aGl0ZWxpc3QtJHtwb2xpY3lJZH1gKS5jaGVja2VkLAogICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNjb3BlLSR7cG9saWN5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR4bkF1dGg6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0eG5BdXRoLSR7cG9saWN5SWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY1JlY29yZHM6IGFjY1JlY29yZHMKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBwb2xpY2llcy5wdXNoKHBvbGljeSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBwb2xpY3lNYXAucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbElkOiBjaGFubmVsSWRWYWx1ZSwKICAgICAgICAgICAgICAgICAgICBwb2xpY2llczogcG9saWNpZXMKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnN0IGpzb25PdXRwdXQgPSB7CiAgICAgICAgICAgICAgICBwb2xpY3lNYXA6IHBvbGljeU1hcAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgY29uc3QganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGpzb25PdXRwdXQsIG51bGwsIDIpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNvbk91dHB1dCcpLnRleHRDb250ZW50ID0ganNvblN0cmluZzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dFNlY3Rpb24nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXRTZWN0aW9uJykuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVNRTCgpIHsKICAgICAgICAgICAgLy8gVmFsaWRhdGUgYWxsIHJlcXVpcmVkIGZpZWxkcwogICAgICAgICAgICBjb25zdCByZXF1aXJlZElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3JlcXVpcmVkXSwgc2VsZWN0W3JlcXVpcmVkXScpOwogICAgICAgICAgICBsZXQgaXNWYWxpZCA9IHRydWU7CgogICAgICAgICAgICByZXF1aXJlZElucHV0cy5mb3JFYWNoKGlucHV0ID0+IHsKICAgICAgICAgICAgICAgIGlmICghaW5wdXQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZWQnOwogICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2RkZCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlIGZpbGwgaW4gYWxsIHJlcXVpcmVkIGZpZWxkcyBtYXJrZWQgd2l0aCAqJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEdlbmVyYXRlIFNRTCBJTlNFUlQgc3RhdGVtZW50cwogICAgICAgICAgICBsZXQgc3FsU3RhdGVtZW50cyA9ICctLSBNYXJpYURCIFNRTCBJbnNlcnQgU3RhdGVtZW50c1xuXG4nOwoKICAgICAgICAgICAgY29uc3QgY2hhbm5lbEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYW5uZWwtaXRlbScpOwoKICAgICAgICAgICAgY2hhbm5lbEl0ZW1zLmZvckVhY2goY2hhbm5lbEl0ZW0gPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbElkX251bSA9IGNoYW5uZWxJdGVtLmlkLnNwbGl0KCctJylbMV07CiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhbm5lbElkLSR7Y2hhbm5lbElkX251bX1gKS52YWx1ZTsKICAgICAgICAgICAgICAgIGNvbnN0IHBvbGljaWVzID0gW107CgogICAgICAgICAgICAgICAgY29uc3QgcG9saWN5SXRlbXMgPSBjaGFubmVsSXRlbS5xdWVyeVNlbGVjdG9yQWxsKCcucG9saWN5LWl0ZW0nKTsKCiAgICAgICAgICAgICAgICBwb2xpY3lJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvbGljeUlkRnVsbCA9IGl0ZW0uaWQucmVwbGFjZSgncG9saWN5LScsICcnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHBvbGljeUlkRnVsbDsKCiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IG5vdGlmeSBkZXRhaWxzIGZvciB0aGlzIHBvbGljeSAod2lsbCBiZSBhcHBsaWVkIHRvIGFsbCBhY2Nlc3MgcmVjb3JkcykKICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlNYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbm90aWZ5TWFwLSR7aWR9YCkudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5RGV0bCA9IFtdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBub3RpZnlEZXRsQ29udGFpbmVyLSR7aWR9YCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5SXRlbXMgPSBub3RpZnlDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLm5vdGlmeS1pdGVtJyk7CgogICAgICAgICAgICAgICAgICAgIG5vdGlmeUl0ZW1zLmZvckVhY2gobm90aWZ5SXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeUlkID0gbm90aWZ5SXRlbS5pZC5zcGxpdCgnLScpLnBvcCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZ5ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5VHlwZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG5vdGlmeVR5cGUtJHtpZH0tJHtub3RpZnlJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhUWXBlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYXV0aFRZcGUtJHtpZH0tJHtub3RpZnlJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdGVtcGxhdGUtJHtpZH0tJHtub3RpZnlJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlUGFyYW1zOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdGVtcGxhdGVQYXJhbXMtJHtpZH0tJHtub3RpZnlJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmRhdG9yeTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1hbmRhdG9yeS0ke2lkfS0ke25vdGlmeUlkfWApLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlEZXRsLnB1c2gobm90aWZ5KTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGFjY2VzcyByZWNvcmRzIGZvciB0aGlzIHBvbGljeQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY1JlY29yZHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWNjZXNzUmVjb3Jkc0NvbnRhaW5lci0ke2lkfWApOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY0l0ZW1zID0gYWNjQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2Nlc3MtcmVjb3JkLWl0ZW0nKTsKCiAgICAgICAgICAgICAgICAgICAgYWNjSXRlbXMuZm9yRWFjaChhY2NJdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjSWQgPSBhY2NJdGVtLmlkLnNwbGl0KCctJykucG9wKCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NSZWNvcmQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JlcTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNoZWNrUmVxLSR7aWR9LSR7YWNjSWR9YCkuY2hlY2tlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4bkF1dGhMZXZlbDogcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHR4bkF1dGhMZXZlbC0ke2lkfS0ke2FjY0lkfWApLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeU1hcDogbm90aWZ5TWFwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5RGV0bDogbm90aWZ5RGV0bCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc01hcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNlc01hcC0ke2lkfS0ke2FjY0lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZk1hcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHByb2ZNYXAtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcU1hcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlcU1hcC0ke2lkfS0ke2FjY0lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcnFDb25kOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlza0luZGljYXRvcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJpc2tJbmRpY2F0b3ItJHtpZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0Q29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHBvc3RDb2RlLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRVcGQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBsaW1pdFVwZC0ke2lkfS0ke2FjY0lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkFtdDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbXRDb2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWluQW10Q29kZS0ke2lkfS0ke2FjY0lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbXRDb2RlVmFsOiBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtaW5BbXRDb2RlVmFsLSR7aWR9LSR7YWNjSWR9YCkudmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBbXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW10Q29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1heEFtdENvZGUtJHtpZH0tJHthY2NJZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW10Q29kZVZhbDogcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWF4QW10Q29kZVZhbC0ke2lkfS0ke2FjY0lkfWApLnZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY1JlY29yZHMucHVzaChhY2NSZWNvcmQpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2xpY3kgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VJZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNlcnZpY2VJZC0ke2lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICB1cmk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1cmktJHtpZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWV0aG9kLSR7aWR9YCkudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG91dHVyaTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG91dHVyaS0ke2lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGVzYy0ke2lkfWApLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDogcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGxldmVsLSR7aWR9YCkudmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdmFsaWRhdGlvbi0ke2lkfWApLmNoZWNrZWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlbGlzdDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHdoaXRlbGlzdC0ke2lkfWApLmNoZWNrZWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc2NvcGUtJHtpZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdHhuQXV0aDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHR4bkF1dGgtJHtpZH1gKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYWNjUmVjb3JkczogYWNjUmVjb3JkcwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIHBvbGljaWVzLnB1c2gocG9saWN5KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIFNRTCBmb3IgdGhpcyBjaGFubmVsCiAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGAtLSBQb2xpY2llcyBUYWJsZSBmb3IgQ2hhbm5lbCAke2NoYW5uZWxJZH1cbmA7CiAgICAgICAgICAgICAgICBwb2xpY2llcy5mb3JFYWNoKChwb2xpY3ksIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvblZhbHVlID0gcG9saWN5LnZhbGlkYXRpb24gPyAxIDogMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGl0ZWxpc3RWYWx1ZSA9IHBvbGljeS53aGl0ZWxpc3QgPyAxIDogMDsKCiAgICAgICAgICAgICAgICAgICAgc3FsU3RhdGVtZW50cyArPSBgSU5TRVJUIElOVE8gcG9saWNpZXMgKGNoYW5uZWxfaWQsIHNlcnZpY2VfaWQsIHVyaSwgbWV0aG9kLCBvdXR1cmksIFxgZGVzY1xgLCBsZXZlbCwgdmFsaWRhdGlvbiwgd2hpdGVsaXN0LCBzY29wZSwgdHhuX2F1dGgpXG5gOwogICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFZBTFVFUyAoJyR7Y2hhbm5lbElkfScsICcke3BvbGljeS5zZXJ2aWNlSWR9JywgJyR7cG9saWN5LnVyaX0nLCAnJHtwb2xpY3kubWV0aG9kfScsICcke3BvbGljeS5vdXR1cml9JywgJyR7cG9saWN5LmRlc2N9JywgJHtwb2xpY3kubGV2ZWx9LCAke3ZhbGlkYXRpb25WYWx1ZX0sICR7d2hpdGVsaXN0VmFsdWV9LCAnJHtwb2xpY3kuc2NvcGV9JywgJyR7cG9saWN5LnR4bkF1dGh9Jyk7XG5cbmA7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGBcbi0tIEFjY2VzcyBSZWNvcmRzIFRhYmxlIGZvciBDaGFubmVsICR7Y2hhbm5lbElkfVxuYDsKICAgICAgICAgICAgICAgIHBvbGljaWVzLmZvckVhY2goKHBvbGljeSwgcG9saWN5SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBwb2xpY3kuYWNjUmVjb3Jkcy5mb3JFYWNoKChhY2NSZWNvcmQsIGFjY0luZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrUmVxVmFsdWUgPSBhY2NSZWNvcmQuY2hlY2tSZXEgPyAxIDogMDsKCiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYElOU0VSVCBJTlRPIGFjY2Vzc19yZWNvcmRzIChzZXJ2aWNlX2lkLCBjaGVja19yZXEsIHR4bl9hdXRoX2xldmVsLCBzZXNfbWFwLCBwcm9mX21hcCwgcmVxX21hcClcbmA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFZBTFVFUyAoJyR7cG9saWN5LnNlcnZpY2VJZH0nLCAke2NoZWNrUmVxVmFsdWV9LCAke2FjY1JlY29yZC50eG5BdXRoTGV2ZWx9LCAnJHthY2NSZWNvcmQuc2VzTWFwfScsICcke2FjY1JlY29yZC5wcm9mTWFwfScsICcke2FjY1JlY29yZC5yZXFNYXB9Jyk7XG5cbmA7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGBcbi0tIFJlcXVlc3QgQ29uZGl0aW9ucyBUYWJsZSBmb3IgQ2hhbm5lbCAke2NoYW5uZWxJZH1cbmA7CiAgICAgICAgICAgICAgICBwb2xpY2llcy5mb3JFYWNoKChwb2xpY3ksIHBvbGljeUluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcG9saWN5LmFjY1JlY29yZHMuZm9yRWFjaCgoYWNjUmVjb3JkLCBhY2NJbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGBJTlNFUlQgSU5UTyBycV9jb25kIChzZXJ2aWNlX2lkLCByaXNrX2luZGljYXRvciwgcG9zdF9jb2RlLCBsaW1pdF91cGQpXG5gOwogICAgICAgICAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGBWQUxVRVMgKCcke3BvbGljeS5zZXJ2aWNlSWR9JywgJyR7YWNjUmVjb3JkLnJxQ29uZC5yaXNrSW5kaWNhdG9yfScsICcke2FjY1JlY29yZC5ycUNvbmQucG9zdENvZGV9JywgJyR7YWNjUmVjb3JkLnJxQ29uZC5saW1pdFVwZH0nKTtcblxuYDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFxuLS0gQW1vdW50IENvZGUgVGFibGUgKE1pbiBBbW91bnQpIGZvciBDaGFubmVsICR7Y2hhbm5lbElkfVxuYDsKICAgICAgICAgICAgICAgIHBvbGljaWVzLmZvckVhY2goKHBvbGljeSwgcG9saWN5SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBwb2xpY3kuYWNjUmVjb3Jkcy5mb3JFYWNoKChhY2NSZWNvcmQsIGFjY0luZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYElOU0VSVCBJTlRPIGFtdF9jb2RlIChzZXJ2aWNlX2lkLCBhbXRfdHlwZSwgYW10X2NvZGUsIGFtdF9jb2RlX3ZhbClcbmA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFZBTFVFUyAoJyR7cG9saWN5LnNlcnZpY2VJZH0nLCAnTUlOJywgJyR7YWNjUmVjb3JkLnJxQ29uZC5taW5BbXQuYW10Q29kZX0nLCAke2FjY1JlY29yZC5ycUNvbmQubWluQW10LmFtdENvZGVWYWx9KTtcblxuYDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFxuLS0gQW1vdW50IENvZGUgVGFibGUgKE1heCBBbW91bnQpIGZvciBDaGFubmVsICR7Y2hhbm5lbElkfVxuYDsKICAgICAgICAgICAgICAgIHBvbGljaWVzLmZvckVhY2goKHBvbGljeSwgcG9saWN5SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBwb2xpY3kuYWNjUmVjb3Jkcy5mb3JFYWNoKChhY2NSZWNvcmQsIGFjY0luZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYElOU0VSVCBJTlRPIGFtdF9jb2RlIChzZXJ2aWNlX2lkLCBhbXRfdHlwZSwgYW10X2NvZGUsIGFtdF9jb2RlX3ZhbClcbmA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFZBTFVFUyAoJyR7cG9saWN5LnNlcnZpY2VJZH0nLCAnTUFYJywgJyR7YWNjUmVjb3JkLnJxQ29uZC5tYXhBbXQuYW10Q29kZX0nLCAke2FjY1JlY29yZC5ycUNvbmQubWF4QW10LmFtdENvZGVWYWx9KTtcblxuYDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gYFxuLS0gTm90aWZpY2F0aW9uIERldGFpbHMgVGFibGUgZm9yIENoYW5uZWwgJHtjaGFubmVsSWR9XG5gOwogICAgICAgICAgICAgICAgcG9saWNpZXMuZm9yRWFjaCgocG9saWN5LCBwb2xpY3lJbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgIHBvbGljeS5hY2NSZWNvcmRzLmZvckVhY2goKGFjY1JlY29yZCwgYWNjSW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgYWNjUmVjb3JkLm5vdGlmeURldGwuZm9yRWFjaCgobm90aWZ5LCBub3RpZnlJbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsU3RhdGVtZW50cyArPSBgSU5TRVJUIElOVE8gbm90aWZ5X2RldGwgKHNlcnZpY2VfaWQsIG5vdGlmeV9tYXAsIG5vdGlmeV90eXBlLCBhdXRoX3R5cGUsIHRlbXBsYXRlLCB0ZW1wbGF0ZV9wYXJhbXMsIG1hbmRhdG9yeSlcbmA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxTdGF0ZW1lbnRzICs9IGBWQUxVRVMgKCcke3BvbGljeS5zZXJ2aWNlSWR9JywgJyR7YWNjUmVjb3JkLm5vdGlmeU1hcH0nLCAnJHtub3RpZnkubm90aWZ5VHlwZX0nLCAnJHtub3RpZnkuYXV0aFRZcGV9JywgJyR7bm90aWZ5LnRlbXBsYXRlfScsICcke25vdGlmeS50ZW1wbGF0ZVBhcmFtc30nLCAnJHtub3RpZnkubWFuZGF0b3J5fScpO1xuXG5gOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHNxbFN0YXRlbWVudHMgKz0gJ1xuJzsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3FsT3V0cHV0JykudGV4dENvbnRlbnQgPSBzcWxTdGF0ZW1lbnRzOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3FsT3V0cHV0U2VjdGlvbicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NxbE91dHB1dFNlY3Rpb24nKS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNvcHlKU09OKCkgewogICAgICAgICAgICBjb25zdCBqc29uVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc29uT3V0cHV0JykudGV4dENvbnRlbnQ7CiAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGpzb25UZXh0KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNvcHlCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI291dHB1dFNlY3Rpb24gLmNvcHktYnRuJyk7CiAgICAgICAgICAgICAgICBjb3B5QnRucy5mb3JFYWNoKGJ0biA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gYnRuLnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9ICdDb3BpZWQhJzsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0OwogICAgICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY29weVNRTCgpIHsKICAgICAgICAgICAgY29uc3Qgc3FsVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcWxPdXRwdXQnKS50ZXh0Q29udGVudDsKICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoc3FsVGV4dCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBjb3B5QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzcWxPdXRwdXRTZWN0aW9uIC5jb3B5LWJ0bicpOwogICAgICAgICAgICAgICAgY29weUJ0bnMuZm9yRWFjaChidG4gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ0bi50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSAnQ29waWVkISc7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IG9yaWdpbmFsVGV4dDsKICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUltcG9ydFNlY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnN0IGltcG9ydFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1wb3J0U2VjdGlvbicpOwogICAgICAgICAgICBjb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlSW1wb3J0QnRuJyk7CgogICAgICAgICAgICBpZiAoaW1wb3J0U2VjdGlvbi5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHsKICAgICAgICAgICAgICAgIGltcG9ydFNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICB0b2dnbGVCdG4uaW5uZXJIVE1MID0gJ/Cfk6QgSGlkZSBJbXBvcnQgSlNPTic7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpbXBvcnRTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICB0b2dnbGVCdG4uaW5uZXJIVE1MID0gJ/Cfk6UgU2hvdyBJbXBvcnQgSlNPTic7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFySW1wb3J0KCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNvbkltcG9ydElucHV0JykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhbGlkYXRpb25NZXNzYWdlJykudGV4dENvbnRlbnQgPSAnJzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFySlNPTk91dHB1dCgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzb25PdXRwdXQnKS50ZXh0Q29udGVudCA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0U2VjdGlvbicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjbGVhclNRTE91dHB1dCgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NxbE91dHB1dCcpLnRleHRDb250ZW50ID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcWxPdXRwdXRTZWN0aW9uJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlQW5kTG9hZEpTT04oKSB7CiAgICAgICAgICAgIGNvbnN0IGpzb25JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc29uSW1wb3J0SW5wdXQnKS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25NZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhbGlkYXRpb25NZXNzYWdlJyk7CgogICAgICAgICAgICBpZiAoIWpzb25JbnB1dCkgewogICAgICAgICAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UudGV4dENvbnRlbnQgPSAnUGxlYXNlIHBhc3RlIEpTT04gZmlyc3QnOwogICAgICAgICAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UuY2xhc3NOYW1lID0gJ3ZhbGlkYXRpb24tbWVzc2FnZSB2YWxpZGF0aW9uLWVycm9yJzsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGpzb25JbnB1dCk7CgogICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgc3RydWN0dXJlCiAgICAgICAgICAgICAgICBpZiAoIWRhdGEucG9saWN5TWFwIHx8ICFBcnJheS5pc0FycmF5KGRhdGEucG9saWN5TWFwKSB8fCBkYXRhLnBvbGljeU1hcC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgSlNPTiBzdHJ1Y3R1cmU6IHBvbGljeU1hcCBhcnJheSBpcyByZXF1aXJlZCcpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHBvbGljeU1hcEl0ZW0gPSBkYXRhLnBvbGljeU1hcFswXTsKICAgICAgICAgICAgICAgIGlmICghcG9saWN5TWFwSXRlbS5wb2xpY2llcyB8fCAhQXJyYXkuaXNBcnJheShwb2xpY3lNYXBJdGVtLnBvbGljaWVzKSkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OIHN0cnVjdHVyZTogcG9saWNpZXMgYXJyYXkgaXMgcmVxdWlyZWQnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBKU09OIGlzIHZhbGlkLCBzaG93IHN1Y2Nlc3MgbWVzc2FnZQogICAgICAgICAgICAgICAgY29uc3QgdG90YWxQb2xpY2llcyA9IGRhdGEucG9saWN5TWFwLnJlZHVjZSgoc3VtLCBjaGFubmVsKSA9PiBzdW0gKyBjaGFubmVsLnBvbGljaWVzLmxlbmd0aCwgMCk7CiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uTWVzc2FnZS50ZXh0Q29udGVudCA9IGDinJMgVmFsaWQgSlNPTiEgTG9hZGluZyAke2RhdGEucG9saWN5TWFwLmxlbmd0aH0gY2hhbm5lbHMgd2l0aCAke3RvdGFsUG9saWNpZXN9IHRvdGFsIHBvbGljaWVzLi4uYDsKICAgICAgICAgICAgICAgIHZhbGlkYXRpb25NZXNzYWdlLmNsYXNzTmFtZSA9ICd2YWxpZGF0aW9uLW1lc3NhZ2UgdmFsaWRhdGlvbi1zdWNjZXNzJzsKCiAgICAgICAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyBjaGFubmVscwogICAgICAgICAgICAgICAgY2xlYXJBbGxDaGFubmVscygpOwoKICAgICAgICAgICAgICAgIC8vIExvYWQgdGhlIEpTT04gZGF0YSBpbnRvIGZvcm0KICAgICAgICAgICAgICAgIGxvYWRKU09OSW50b0Zvcm0oZGF0YSk7CgogICAgICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIGFjdGlvbnMgc2VjdGlvbgogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGlvbnMnKS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CgogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UudGV4dENvbnRlbnQgPSBg4pyXIEludmFsaWQgSlNPTjogJHtlcnJvci5tZXNzYWdlfWA7CiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uTWVzc2FnZS5jbGFzc05hbWUgPSAndmFsaWRhdGlvbi1tZXNzYWdlIHZhbGlkYXRpb24tZXJyb3InOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjbGVhckFsbENoYW5uZWxzKCkgewogICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbm5lbHNDb250YWluZXInKTsKICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICBjaGFubmVsQ291bnQgPSAwOwogICAgICAgICAgICBwb2xpY3lDb3VudGVycyA9IHt9OwogICAgICAgICAgICBhY2Nlc3NSZWNvcmRDb3VudGVycyA9IHt9OwogICAgICAgICAgICBub3RpZnlEZXRhaWxDb3VudGVycyA9IHt9OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbG9hZEpTT05JbnRvRm9ybShkYXRhKSB7CiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgY2hhbm5lbHMgaW4gcG9saWN5TWFwCiAgICAgICAgICAgIGRhdGEucG9saWN5TWFwLmZvckVhY2goKGNoYW5uZWxEYXRhLCBjaGFubmVsSW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBjaGFubmVsCiAgICAgICAgICAgICAgICBhZGRDaGFubmVsKCk7CgogICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENoYW5uZWxJZCA9IGNoYW5uZWxDb3VudDsKCiAgICAgICAgICAgICAgICAvLyBTZXQgY2hhbm5lbCBJRAogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNoYW5uZWxJZC0ke2N1cnJlbnRDaGFubmVsSWR9YCkudmFsdWUgPSBjaGFubmVsRGF0YS5jaGFubmVsSWQgfHwgJyc7CgogICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGRlZmF1bHQgcG9saWN5IHRoYXQgZ2V0cyBhZGRlZCBhdXRvbWF0aWNhbGx5CiAgICAgICAgICAgICAgICBjb25zdCBwb2xpY2llc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwb2xpY2llc0NvbnRhaW5lci0ke2N1cnJlbnRDaGFubmVsSWR9YCk7CiAgICAgICAgICAgICAgICBwb2xpY2llc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIHBvbGljeUNvdW50ZXJzW2N1cnJlbnRDaGFubmVsSWRdID0gMDsKCiAgICAgICAgICAgICAgICAvLyBMb2FkIGVhY2ggcG9saWN5IGZvciB0aGlzIGNoYW5uZWwKICAgICAgICAgICAgICAgIGNoYW5uZWxEYXRhLnBvbGljaWVzLmZvckVhY2goKHBvbGljeSwgcG9saWN5SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgcG9saWN5IHRvIHRoaXMgY2hhbm5lbAogICAgICAgICAgICAgICAgICAgIGFkZFBvbGljeShjdXJyZW50Q2hhbm5lbElkKTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9saWN5SWQgPSBgJHtjdXJyZW50Q2hhbm5lbElkfS0ke3BvbGljeUNvdW50ZXJzW2N1cnJlbnRDaGFubmVsSWRdfWA7CgogICAgICAgICAgICAgICAgICAgIC8vIFNldCBwb2xpY3kgZmllbGRzCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNlcnZpY2VJZC0ke3BvbGljeUlkfWApLnZhbHVlID0gcG9saWN5LnNlcnZpY2VJZCB8fCAnJzsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXJpLSR7cG9saWN5SWR9YCkudmFsdWUgPSBwb2xpY3kudXJpIHx8ICcnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtZXRob2QtJHtwb2xpY3lJZH1gKS52YWx1ZSA9IHBvbGljeS5tZXRob2QgfHwgJ1BPU1QnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBvdXR1cmktJHtwb2xpY3lJZH1gKS52YWx1ZSA9IHBvbGljeS5vdXR1cmkgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRlc2MtJHtwb2xpY3lJZH1gKS52YWx1ZSA9IHBvbGljeS5kZXNjIHx8ICcnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBsZXZlbC0ke3BvbGljeUlkfWApLnZhbHVlID0gcG9saWN5LmxldmVsIHx8IDE7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNjb3BlLSR7cG9saWN5SWR9YCkudmFsdWUgPSBwb2xpY3kuc2NvcGUgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHR4bkF1dGgtJHtwb2xpY3lJZH1gKS52YWx1ZSA9IHBvbGljeS50eG5BdXRoIHx8ICdOJzsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdmFsaWRhdGlvbi0ke3BvbGljeUlkfWApLmNoZWNrZWQgPSBwb2xpY3kudmFsaWRhdGlvbiA9PT0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgd2hpdGVsaXN0LSR7cG9saWN5SWR9YCkuY2hlY2tlZCA9IHBvbGljeS53aGl0ZWxpc3QgPT09IHRydWU7CgogICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgbGV2ZWwgY2hhbmdlIHRvIHVwZGF0ZSB2YWxpZGF0aW9uL3doaXRlbGlzdAogICAgICAgICAgICAgICAgICAgIGhhbmRsZUxldmVsQ2hhbmdlKHBvbGljeUlkKTsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVUeG5BdXRoQ2hhbmdlKHBvbGljeUlkKTsKCiAgICAgICAgICAgICAgICAgICAgLy8gTG9hZCBub3RpZmljYXRpb24gY29uZmlnIChmcm9tIGZpcnN0IGFjY2VzcyByZWNvcmQgaWYgYXZhaWxhYmxlKQogICAgICAgICAgICAgICAgICAgIGlmIChwb2xpY3kuYWNjUmVjb3JkcyAmJiBwb2xpY3kuYWNjUmVjb3Jkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0QWNjUmVjb3JkID0gcG9saWN5LmFjY1JlY29yZHNbMF07CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgbm90aWZ5IG1hcAogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbm90aWZ5TWFwLSR7cG9saWN5SWR9YCkudmFsdWUgPSBmaXJzdEFjY1JlY29yZC5ub3RpZnlNYXAgfHwgJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBkZWZhdWx0IG5vdGlmeSBkZXRhaWxzIGFuZCBhZGQgZnJvbSBKU09OCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBub3RpZnlEZXRsQ29udGFpbmVyLSR7cG9saWN5SWR9YCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5RGV0YWlsQ291bnRlcnNbcG9saWN5SWRdID0gMDsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEFjY1JlY29yZC5ub3RpZnlEZXRsICYmIEFycmF5LmlzQXJyYXkoZmlyc3RBY2NSZWNvcmQubm90aWZ5RGV0bCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0QWNjUmVjb3JkLm5vdGlmeURldGwuZm9yRWFjaChub3RpZnkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeURldGFpbENvdW50ZXJzW3BvbGljeUlkXSsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmeUlkID0gbm90aWZ5RGV0YWlsQ291bnRlcnNbcG9saWN5SWRdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZnlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlEaXYuY2xhc3NOYW1lID0gJ25vdGlmeS1pdGVtJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlEaXYuaWQgPSBgbm90aWZ5LSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9YDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5RGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibm90aWZ5LWl0ZW0taGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5Ob3RpZnkgRGV0YWlsICR7bm90aWZ5SWR9PC9oNj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbWFsbCIgb25jbGljaz0icmVtb3ZlTm90aWZ5RGV0YWlsKCR7cG9saWN5SWR9LCAke25vdGlmeUlkfSkiPlJlbW92ZTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibm90aWZ5LWdyaWQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk5vdGlmeSBUeXBlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibm90aWZ5VHlwZS0ke3BvbGljeUlkfS0ke25vdGlmeUlkfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlNNUyIgJHtub3RpZnkubm90aWZ5VHlwZSA9PT0gJ1NNUycgPyAnc2VsZWN0ZWQnIDogJyd9PlNNUzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJFTUFJTCIgJHtub3RpZnkubm90aWZ5VHlwZSA9PT0gJ0VNQUlMJyA/ICdzZWxlY3RlZCcgOiAnJ30+RU1BSUw8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iUFVTSCIgJHtub3RpZnkubm90aWZ5VHlwZSA9PT0gJ1BVU0gnID8gJ3NlbGVjdGVkJyA6ICcnfT5QVVNIPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5BdXRoIFR5cGU6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImF1dGhUWXBlLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9IiB2YWx1ZT0iJHtub3RpZnkuYXV0aFRZcGUgfHwgJyd9Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlRlbXBsYXRlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ0ZW1wbGF0ZS0ke3BvbGljeUlkfS0ke25vdGlmeUlkfSIgdmFsdWU9IiR7bm90aWZ5LnRlbXBsYXRlIHx8ICcnfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UZW1wbGF0ZSBQYXJhbXM6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InRlbXBsYXRlUGFyYW1zLSR7cG9saWN5SWR9LSR7bm90aWZ5SWR9IiB2YWx1ZT0iJHtub3RpZnkudGVtcGxhdGVQYXJhbXMgfHwgJyd9Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk1hbmRhdG9yeTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9Im1hbmRhdG9yeS0ke3BvbGljeUlkfS0ke25vdGlmeUlkfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InRydWUiICR7bm90aWZ5Lm1hbmRhdG9yeSA9PT0gJ3RydWUnIHx8IG5vdGlmeS5tYW5kYXRvcnkgPT09IHRydWUgPyAnc2VsZWN0ZWQnIDogJyd9PnRydWU8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZmFsc2UiICR7bm90aWZ5Lm1hbmRhdG9yeSA9PT0gJ2ZhbHNlJyB8fCBub3RpZnkubWFuZGF0b3J5ID09PSBmYWxzZSA/ICdzZWxlY3RlZCcgOiAnJ30+ZmFsc2U8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlDb250YWluZXIuYXBwZW5kQ2hpbGQobm90aWZ5RGl2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciBkZWZhdWx0IGFjY2VzcyByZWNvcmQgYW5kIGxvYWQgZnJvbSBKU09OCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFjY2Vzc1JlY29yZHNDb250YWluZXItJHtwb2xpY3lJZH1gKTsKICAgICAgICAgICAgICAgICAgICBhY2NDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICAgICAgYWNjZXNzUmVjb3JkQ291bnRlcnNbcG9saWN5SWRdID0gMDsKCiAgICAgICAgICAgICAgICAgICAgLy8gTG9hZCBhY2Nlc3MgcmVjb3JkcwogICAgICAgICAgICAgICAgICAgIGlmIChwb2xpY3kuYWNjUmVjb3JkcyAmJiBBcnJheS5pc0FycmF5KHBvbGljeS5hY2NSZWNvcmRzKSkgewogICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3kuYWNjUmVjb3Jkcy5mb3JFYWNoKGFjY1JlY29yZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NSZWNvcmRDb3VudGVyc1twb2xpY3lJZF0rKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY0lkID0gYWNjZXNzUmVjb3JkQ291bnRlcnNbcG9saWN5SWRdOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjRGl2LmNsYXNzTmFtZSA9ICdhY2Nlc3MtcmVjb3JkLWl0ZW0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjRGl2LmlkID0gYGFjY2Vzcy0ke3BvbGljeUlkfS0ke2FjY0lkfWA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjRGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2Nlc3MtcmVjb3JkLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNT5BY2Nlc3MgUmVjb3JkICR7YWNjSWR9PC9oNT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtYWxsIiBvbmNsaWNrPSJyZW1vdmVBY2Nlc3NSZWNvcmQoJHtwb2xpY3lJZH0sICR7YWNjSWR9KSI+UmVtb3ZlPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZXNzLXJlY29yZC1ncmlkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBjaGVja2JveC1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJjaGVja1JlcS0ke3BvbGljeUlkfS0ke2FjY0lkfSIgJHthY2NSZWNvcmQuY2hlY2tSZXEgPyAnY2hlY2tlZCcgOiAnJ30+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJjaGVja1JlcS0ke3BvbGljeUlkfS0ke2FjY0lkfSI+Q2hlY2sgUmVxPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlR4biBBdXRoIExldmVsOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0idHhuQXV0aExldmVsLSR7cG9saWN5SWR9LSR7YWNjSWR9IiB2YWx1ZT0iJHthY2NSZWNvcmQudHhuQXV0aExldmVsIHx8IDB9IiBtaW49IjAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+U2Vzc2lvbiBNYXA6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic2VzTWFwLSR7cG9saWN5SWR9LSR7YWNjSWR9IiB2YWx1ZT0iJHthY2NSZWNvcmQuc2VzTWFwIHx8ICcnfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Qcm9maWxlIE1hcDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9mTWFwLSR7cG9saWN5SWR9LSR7YWNjSWR9IiB2YWx1ZT0iJHthY2NSZWNvcmQucHJvZk1hcCB8fCAnJ30iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UmVxdWVzdCBNYXA6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icmVxTWFwLSR7cG9saWN5SWR9LSR7YWNjSWR9IiB2YWx1ZT0iJHthY2NSZWNvcmQucmVxTWFwIHx8ICcnfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJycWNvbmQtc2VjdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5SZXF1ZXN0IENvbmRpdGlvbnMgKHJxQ29uZCk8L2g2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJycWNvbmQtZ3JpZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UmlzayBJbmRpY2F0b3I6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJpc2tJbmRpY2F0b3ItJHtwb2xpY3lJZH0tJHthY2NJZH0iIHZhbHVlPSIke2FjY1JlY29yZC5ycUNvbmQ/LnJpc2tJbmRpY2F0b3IgfHwgJyd9Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlBvc3QgQ29kZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icG9zdENvZGUtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHZhbHVlPSIke2FjY1JlY29yZC5ycUNvbmQ/LnBvc3RDb2RlIHx8ICcnfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5MaW1pdCBVcGQ6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImxpbWl0VXBkLSR7cG9saWN5SWR9LSR7YWNjSWR9IiB2YWx1ZT0iJHthY2NSZWNvcmQucnFDb25kPy5saW1pdFVwZCB8fCAnJ30iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+TWluIEFtdCBDb2RlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJtaW5BbXRDb2RlLSR7cG9saWN5SWR9LSR7YWNjSWR9IiB2YWx1ZT0iJHthY2NSZWNvcmQucnFDb25kPy5taW5BbXQ/LmFtdENvZGUgfHwgJyd9Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk1pbiBBbXQgVmFsdWU6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ibWluQW10Q29kZVZhbC0ke3BvbGljeUlkfS0ke2FjY0lkfSIgdmFsdWU9IiR7YWNjUmVjb3JkLnJxQ29uZD8ubWluQW10Py5hbXRDb2RlVmFsIHx8IDB9IiBzdGVwPSIwLjAxIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk1heCBBbXQgQ29kZTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibWF4QW10Q29kZS0ke3BvbGljeUlkfS0ke2FjY0lkfSIgdmFsdWU9IiR7YWNjUmVjb3JkLnJxQ29uZD8ubWF4QW10Py5hbXRDb2RlIHx8ICcnfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5NYXggQW10IFZhbHVlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9Im1heEFtdENvZGVWYWwtJHtwb2xpY3lJZH0tJHthY2NJZH0iIHZhbHVlPSIke2FjY1JlY29yZC5ycUNvbmQ/Lm1heEFtdD8uYW10Q29kZVZhbCB8fCAwfSIgc3RlcD0iMC4wMSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY0NvbnRhaW5lci5hcHBlbmRDaGlsZChhY2NEaXYpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBidXR0b24gc3RhdGUKICAgICAgICAgICAgICAgICAgICBoYW5kbGVUeG5BdXRoQ2hhbmdlKHBvbGljeUlkKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIEFkZCBvbmUgcG9saWN5IGJ5IGRlZmF1bHQgb24gcGFnZSBsb2FkCiAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBhZGRDaGFubmVsKCk7CiAgICAgICAgfTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K
